{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/user-management.service\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = () => [];\nfunction UserManagementComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 35);\n    i0.ɵɵelement(3, \"path\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction UserManagementComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 34);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 38);\n    i0.ɵɵelement(3, \"path\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction UserManagementComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r2.name);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(role_r2.name);\n  }\n}\nfunction UserManagementComponent_div_40_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Nom d'utilisateur requis (3-50 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_40_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Email valide requis \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_40_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Pr\\u00E9nom requis (2-50 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_40_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Nom requis (2-50 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_40_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Mot de passe requis (minimum 6 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_40_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"input\", 58);\n    i0.ɵɵlistener(\"change\", function UserManagementComponent_div_40_div_34_Template_input_change_1_listener($event) {\n      const role_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.onRoleCheckboxChange($event, role_r5.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 59);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const role_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"id\", \"role-\" + role_r5.id)(\"value\", role_r5.id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"for\", \"role-\" + role_r5.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", role_r5.name, \" \");\n  }\n}\nfunction UserManagementComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"h3\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 42);\n    i0.ɵɵlistener(\"ngSubmit\", function UserManagementComponent_div_40_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.onUserSubmit());\n    });\n    i0.ɵɵelementStart(4, \"div\", 43)(5, \"div\")(6, \"label\", 12);\n    i0.ɵɵtext(7, \"Nom d'utilisateur *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 44);\n    i0.ɵɵtemplate(9, UserManagementComponent_div_40_div_9_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\")(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Email *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 46);\n    i0.ɵɵtemplate(14, UserManagementComponent_div_40_div_14_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 12);\n    i0.ɵɵtext(17, \"Pr\\u00E9nom *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 47);\n    i0.ɵɵtemplate(19, UserManagementComponent_div_40_div_19_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\")(21, \"label\", 12);\n    i0.ɵɵtext(22, \"Nom *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"input\", 48);\n    i0.ɵɵtemplate(24, UserManagementComponent_div_40_div_24_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 49)(26, \"label\", 12);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"input\", 50);\n    i0.ɵɵtemplate(29, UserManagementComponent_div_40_div_29_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 49)(31, \"label\", 12);\n    i0.ɵɵtext(32, \"R\\u00F4les\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 51);\n    i0.ɵɵtemplate(34, UserManagementComponent_div_40_div_34_Template, 4, 4, \"div\", 52);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"div\", 53)(36, \"button\", 54);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_40_Template_button_click_38_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.cancelUserForm());\n    });\n    i0.ɵɵtext(39, \" Annuler \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_8_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.editingUser ? \"Modifier l'utilisateur\" : \"Cr\\u00E9er un utilisateur\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.userForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r0.userForm.get(\"username\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r0.userForm.get(\"username\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r0.userForm.get(\"email\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r0.userForm.get(\"email\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r0.userForm.get(\"firstName\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r0.userForm.get(\"firstName\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r0.userForm.get(\"lastName\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx_r0.userForm.get(\"lastName\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Mot de passe \", ctx_r0.editingUser ? \"(laisser vide pour ne pas changer)\" : \"*\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx_r0.userForm.get(\"password\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx_r0.userForm.get(\"password\")) == null ? null : tmp_8_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.roles);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.userForm.valid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.editingUser ? \"Mettre \\u00E0 jour\" : \"Cr\\u00E9er\", \" \");\n  }\n}\nfunction UserManagementComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelement(1, \"div\", 61);\n    i0.ɵɵelementStart(2, \"p\", 62);\n    i0.ɵɵtext(3, \"Chargement des utilisateurs...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserManagementComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 64);\n    i0.ɵɵelement(2, \"path\", 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Aucun utilisateur trouv\\u00E9.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UserManagementComponent_div_49_tr_17_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 91);\n    i0.ɵɵtext(1, \"\\u2713 V\\u00E9rifi\\u00E9\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_49_tr_17_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtext(1, \"\\u2717 Non v\\u00E9rifi\\u00E9\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_49_tr_17_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 83);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r7 = ctx.$implicit;\n    i0.ɵɵclassMap(role_r7.name === \"admin\" ? \"bg-red-100 text-red-800\" : role_r7.name === \"hr\" ? \"bg-blue-100 text-blue-800\" : role_r7.name === \"manager\" ? \"bg-green-100 text-green-800\" : \"bg-gray-100 text-gray-800\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", role_r7.name, \" \");\n  }\n}\nfunction UserManagementComponent_div_49_tr_17_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 93);\n    i0.ɵɵtext(1, \"Aucun r\\u00F4le\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_49_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 72)(1, \"td\", 73)(2, \"div\", 57)(3, \"div\", 74);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"div\", 75);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 76);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(10, \"td\", 77)(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, UserManagementComponent_div_49_tr_17_div_13_Template, 2, 0, \"div\", 78)(14, UserManagementComponent_div_49_tr_17_div_14_Template, 2, 0, \"div\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 73)(16, \"div\", 80);\n    i0.ɵɵtemplate(17, UserManagementComponent_div_49_tr_17_span_17_Template, 2, 3, \"span\", 81)(18, UserManagementComponent_div_49_tr_17_span_18_Template, 2, 0, \"span\", 82);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\", 73)(20, \"span\", 83);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"td\", 77);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\", 84)(26, \"div\", 85)(27, \"button\", 86);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_49_tr_17_Template_button_click_27_listener() {\n      const user_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.editUser(user_r8));\n    });\n    i0.ɵɵtext(28, \" Modifier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 87);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_49_tr_17_Template_button_click_29_listener() {\n      const user_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.showRoleManagement(user_r8));\n    });\n    i0.ɵɵtext(30, \" R\\u00F4les \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 88);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_49_tr_17_Template_button_click_31_listener() {\n      const user_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.showPasswordReset(user_r8));\n    });\n    i0.ɵɵtext(32, \" Reset MDP \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_49_tr_17_Template_button_click_33_listener() {\n      const user_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleUserStatus(user_r8));\n    });\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_49_tr_17_Template_button_click_35_listener() {\n      const user_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.deleteUser(user_r8, false));\n    });\n    i0.ɵɵtext(36, \" Supprimer \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const user_r8 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", user_r8.firstName.charAt(0).toUpperCase(), \"\", user_r8.lastName.charAt(0).toUpperCase(), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", user_r8.firstName, \" \", user_r8.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r8.username);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r8.email);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", user_r8.emailVerified);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !user_r8.emailVerified);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", user_r8.roles);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", user_r8.roles.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(user_r8.isActive ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", user_r8.isActive ? \"Actif\" : \"Inactif\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", user_r8.lastLogin ? i0.ɵɵpipeBind2(24, 18, user_r8.lastLogin, \"dd/MM/yyyy HH:mm\") : \"Jamais\", \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵclassMap(user_r8.isActive ? \"text-orange-600 hover:text-orange-900\" : \"text-green-600 hover:text-green-900\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", user_r8.isActive ? \"D\\u00E9sactiver\" : \"Activer\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", user_r8.id === ctx_r0.currentUserId);\n  }\n}\nfunction UserManagementComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66)(1, \"table\", 67)(2, \"thead\", 68)(3, \"tr\")(4, \"th\", 69);\n    i0.ɵɵtext(5, \"Utilisateur\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 69);\n    i0.ɵɵtext(7, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 69);\n    i0.ɵɵtext(9, \"R\\u00F4les\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 69);\n    i0.ɵɵtext(11, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 69);\n    i0.ɵɵtext(13, \"Derni\\u00E8re connexion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 69);\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\", 70);\n    i0.ɵɵtemplate(17, UserManagementComponent_div_49_tr_17_Template, 37, 21, \"tr\", 71);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n  }\n}\nfunction UserManagementComponent_div_50_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 98);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_50_button_6_Template_button_click_0_listener() {\n      const i_r11 = i0.ɵɵrestoreView(_r10).index;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.goToPage(i_r11 + 1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(i_r11 + 1 === ctx_r0.currentPage ? \"btn btn-primary\" : \"btn btn-secondary\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i_r11 + 1, \" \");\n  }\n}\nfunction UserManagementComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 94)(1, \"div\", 95);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 85)(4, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_50_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.goToPage(ctx_r0.currentPage - 1));\n    });\n    i0.ɵɵtext(5, \" Pr\\u00E9c\\u00E9dent \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, UserManagementComponent_div_50_button_6_Template, 2, 3, \"button\", 97);\n    i0.ɵɵelementStart(7, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_50_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.goToPage(ctx_r0.currentPage + 1));\n    });\n    i0.ɵɵtext(8, \" Suivant \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" Affichage de \", (ctx_r0.currentPage - 1) * ctx_r0.pageSize + 1, \" \\u00E0 \", ctx_r0.Math.min(ctx_r0.currentPage * ctx_r0.pageSize, ctx_r0.totalUsers), \" sur \", ctx_r0.totalUsers, \" utilisateurs \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.currentPage === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(6, _c0).constructor(ctx_r0.Math.min(5, ctx_r0.totalPages)));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r0.currentPage === ctx_r0.totalPages);\n  }\n}\nfunction UserManagementComponent_div_51_ng_container_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 113);\n    i0.ɵɵtext(1, \" Aucun r\\u00F4le attribu\\u00E9 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_51_ng_container_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 114)(1, \"span\", 115);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 116);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_ng_container_12_div_2_Template_button_click_3_listener() {\n      const role_r14 = i0.ɵɵrestoreView(_r13).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r0.removeRole(role_r14.id));\n    });\n    i0.ɵɵtext(4, \" Retirer \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const role_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(role_r14.name);\n  }\n}\nfunction UserManagementComponent_div_51_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, UserManagementComponent_div_51_ng_container_12_div_1_Template, 2, 0, \"div\", 108)(2, UserManagementComponent_div_51_ng_container_12_div_2_Template, 5, 1, \"div\", 112);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.managingRolesUser.roles.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.managingRolesUser.roles);\n  }\n}\nfunction UserManagementComponent_div_51_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 113);\n    i0.ɵɵtext(1, \"Aucun r\\u00F4le attribu\\u00E9\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_51_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 113);\n    i0.ɵɵtext(1, \" Tous les r\\u00F4les sont d\\u00E9j\\u00E0 attribu\\u00E9s \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_51_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 117)(1, \"div\")(2, \"span\", 115);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 118);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 119);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_div_19_Template_button_click_6_listener() {\n      const role_r16 = i0.ɵɵrestoreView(_r15).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.assignRole(role_r16.id));\n    });\n    i0.ɵɵtext(7, \" Attribuer \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const role_r16 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(role_r16.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(role_r16.description);\n  }\n}\nfunction UserManagementComponent_div_51_div_23_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵtext(1, \" Mot de passe requis (minimum 6 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserManagementComponent_div_51_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 99)(1, \"div\", 100)(2, \"div\", 101)(3, \"div\", 25)(4, \"h3\", 102);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 103);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_div_23_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.closePasswordResetModal());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(7, \"svg\", 104);\n    i0.ɵɵelement(8, \"path\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(9, \"form\", 42);\n    i0.ɵɵlistener(\"ngSubmit\", function UserManagementComponent_div_51_div_23_Template_form_ngSubmit_9_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.onPasswordResetSubmit());\n    });\n    i0.ɵɵelementStart(10, \"div\", 105)(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Nouveau mot de passe *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 120);\n    i0.ɵɵtemplate(14, UserManagementComponent_div_51_div_23_div_14_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 121)(16, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_div_23_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.closePasswordResetModal());\n    });\n    i0.ɵɵtext(17, \" Annuler \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 54);\n    i0.ɵɵtext(19, \" R\\u00E9initialiser \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    let tmp_5_0;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" R\\u00E9initialiser le mot de passe de \", ctx_r0.resettingPasswordUser == null ? null : ctx_r0.resettingPasswordUser.username, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.passwordResetForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r0.passwordResetForm.get(\"newPassword\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r0.passwordResetForm.get(\"newPassword\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.passwordResetForm.valid);\n  }\n}\nfunction UserManagementComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 99)(1, \"div\", 100)(2, \"div\", 101)(3, \"div\", 25)(4, \"h3\", 102);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 103);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeRoleModal());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(7, \"svg\", 104);\n    i0.ɵɵelement(8, \"path\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(9, \"div\", 105)(10, \"h4\", 106);\n    i0.ɵɵtext(11, \"R\\u00F4les actuels :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, UserManagementComponent_div_51_ng_container_12_Template, 3, 2, \"ng-container\", 107)(13, UserManagementComponent_div_51_ng_template_13_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(15, \"div\", 105)(16, \"h4\", 106);\n    i0.ɵɵtext(17, \"R\\u00F4les disponibles :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, UserManagementComponent_div_51_div_18_Template, 2, 0, \"div\", 108)(19, UserManagementComponent_div_51_div_19_Template, 8, 2, \"div\", 109);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 110)(21, \"button\", 111);\n    i0.ɵɵlistener(\"click\", function UserManagementComponent_div_51_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeRoleModal());\n    });\n    i0.ɵɵtext(22, \" Fermer \");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(23, UserManagementComponent_div_51_div_23_Template, 20, 4, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const noRoles_r18 = i0.ɵɵreference(14);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" G\\u00E9rer les r\\u00F4les de \", ctx_r0.managingRolesUser == null ? null : ctx_r0.managingRolesUser.username, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.managingRolesUser == null ? null : ctx_r0.managingRolesUser.roles)(\"ngIfElse\", noRoles_r18);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.managingRolesUser && ctx_r0.getAvailableRoles(ctx_r0.managingRolesUser).length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.managingRolesUser ? ctx_r0.getAvailableRoles(ctx_r0.managingRolesUser) : i0.ɵɵpureFunction0(6, _c0));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showPasswordResetModal);\n  }\n}\nexport class UserManagementComponent {\n  constructor(userManagementService, authService, formBuilder) {\n    this.userManagementService = userManagementService;\n    this.authService = authService;\n    this.formBuilder = formBuilder;\n    this.users = [];\n    this.roles = [];\n    // Pagination\n    this.currentPage = 1;\n    this.totalPages = 1;\n    this.totalUsers = 0;\n    this.pageSize = 10;\n    // Filtres\n    this.searchQuery = '';\n    this.selectedRole = '';\n    this.selectedStatus = '';\n    // États\n    this.loading = false;\n    this.showCreateForm = false;\n    this.editingUser = null;\n    this.showPasswordResetModal = false;\n    this.resettingPasswordUser = null;\n    this.showRoleModal = false;\n    this.managingRolesUser = null;\n    // Messages\n    this.errorMessage = null;\n    this.successMessage = null;\n    this.userForm = this.formBuilder.group({\n      username: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      firstName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n      lastName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      roleIds: [[]]\n    });\n    this.passwordResetForm = this.formBuilder.group({\n      newPassword: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  ngOnInit() {\n    this.loadUsers();\n    this.loadRoles();\n  }\n  loadUsers() {\n    this.loading = true;\n    this.errorMessage = null;\n    const isActive = this.selectedStatus === 'active' ? true : this.selectedStatus === 'inactive' ? false : undefined;\n    this.userManagementService.getUsers(this.currentPage, this.pageSize, this.searchQuery || undefined, this.selectedRole || undefined, isActive).subscribe({\n      next: response => {\n        this.users = response.users;\n        this.totalUsers = response.pagination.total;\n        this.totalPages = response.pagination.totalPages;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error loading users:', err);\n        this.errorMessage = 'Erreur lors du chargement des utilisateurs';\n        this.loading = false;\n      }\n    });\n  }\n  loadRoles() {\n    this.userManagementService.getRoles().subscribe({\n      next: response => {\n        this.roles = response.roles;\n      },\n      error: err => {\n        console.error('Error loading roles:', err);\n      }\n    });\n  }\n  onSearch() {\n    this.currentPage = 1;\n    this.loadUsers();\n  }\n  onFilterChange() {\n    this.currentPage = 1;\n    this.loadUsers();\n  }\n  clearFilters() {\n    this.searchQuery = '';\n    this.selectedRole = '';\n    this.selectedStatus = '';\n    this.currentPage = 1;\n    this.loadUsers();\n  }\n  // Pagination\n  goToPage(page) {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.loadUsers();\n    }\n  }\n  // Gestion des utilisateurs\n  showCreateUserForm() {\n    this.showCreateForm = true;\n    this.editingUser = null;\n    this.userForm.reset();\n    this.userForm.get('password')?.setValidators([Validators.required, Validators.minLength(6)]);\n    this.clearMessages();\n  }\n  editUser(user) {\n    this.editingUser = user;\n    this.showCreateForm = true;\n    this.userForm.patchValue({\n      username: user.username,\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      roleIds: user.roles.map(role => role.id)\n    });\n    // Retirer la validation obligatoire du mot de passe pour la modification\n    this.userForm.get('password')?.clearValidators();\n    this.userForm.get('password')?.updateValueAndValidity();\n    this.clearMessages();\n  }\n  onUserSubmit() {\n    if (this.userForm.valid) {\n      const formData = this.userForm.value;\n      if (this.editingUser) {\n        // Mise à jour\n        const updateData = {\n          username: formData.username,\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email\n        };\n        if (formData.password) {\n          updateData.password = formData.password;\n        }\n        this.userManagementService.updateUser(this.editingUser.id, updateData).subscribe({\n          next: response => {\n            this.successMessage = response.message;\n            this.loadUsers();\n            this.cancelUserForm();\n          },\n          error: err => {\n            this.errorMessage = err.error?.message || 'Erreur lors de la mise à jour';\n          }\n        });\n      } else {\n        // Création\n        const createData = {\n          username: formData.username,\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email,\n          password: formData.password,\n          roleIds: formData.roleIds\n        };\n        this.userManagementService.createUser(createData).subscribe({\n          next: response => {\n            this.successMessage = response.message;\n            this.loadUsers();\n            this.cancelUserForm();\n          },\n          error: err => {\n            this.errorMessage = err.error?.message || 'Erreur lors de la création';\n          }\n        });\n      }\n    }\n  }\n  cancelUserForm() {\n    this.showCreateForm = false;\n    this.editingUser = null;\n    this.userForm.reset();\n    this.clearMessages();\n  }\n  deleteUser(user, permanent = false) {\n    const action = permanent ? 'supprimer définitivement' : 'désactiver';\n    const confirmMessage = `Êtes-vous sûr de vouloir ${action} l'utilisateur \"${user.username}\" ?`;\n    if (window.confirm(confirmMessage)) {\n      this.userManagementService.deleteUser(user.id, !permanent).subscribe({\n        next: response => {\n          this.successMessage = response.message;\n          this.loadUsers();\n        },\n        error: err => {\n          this.errorMessage = err.error?.message || `Erreur lors de la ${action}`;\n        }\n      });\n    }\n  }\n  toggleUserStatus(user) {\n    const action = user.isActive ? 'désactiver' : 'activer';\n    if (window.confirm(`Êtes-vous sûr de vouloir ${action} l'utilisateur \"${user.username}\" ?`)) {\n      this.userManagementService.toggleUserStatus(user.id).subscribe({\n        next: response => {\n          this.successMessage = response.message;\n          this.loadUsers();\n        },\n        error: err => {\n          this.errorMessage = err.error?.message || `Erreur lors de l'${action}`;\n        }\n      });\n    }\n  }\n  // Gestion des rôles\n  showRoleManagement(user) {\n    this.managingRolesUser = user;\n    this.showRoleModal = true;\n    this.clearMessages();\n  }\n  assignRole(roleId) {\n    if (!this.managingRolesUser) return;\n    this.userManagementService.assignRole({\n      userId: this.managingRolesUser.id,\n      roleId: roleId\n    }).subscribe({\n      next: response => {\n        this.successMessage = response.message;\n        this.loadUsers();\n        this.closeRoleModal();\n      },\n      error: err => {\n        this.errorMessage = err.error?.message || 'Erreur lors de l\\'attribution du rôle';\n      }\n    });\n  }\n  removeRole(roleId) {\n    if (!this.managingRolesUser) return;\n    const role = this.roles.find(r => r.id === roleId);\n    if (window.confirm(`Retirer le rôle \"${role?.name}\" de ${this.managingRolesUser.username} ?`)) {\n      this.userManagementService.removeRole({\n        userId: this.managingRolesUser.id,\n        roleId: roleId\n      }).subscribe({\n        next: response => {\n          this.successMessage = response.message;\n          this.loadUsers();\n          this.closeRoleModal();\n        },\n        error: err => {\n          this.errorMessage = err.error?.message || 'Erreur lors du retrait du rôle';\n        }\n      });\n    }\n  }\n  closeRoleModal() {\n    this.showRoleModal = false;\n    this.managingRolesUser = null;\n  }\n  // Réinitialisation de mot de passe\n  showPasswordReset(user) {\n    this.resettingPasswordUser = user;\n    this.showPasswordResetModal = true;\n    this.passwordResetForm.reset();\n    this.clearMessages();\n  }\n  onPasswordResetSubmit() {\n    if (this.passwordResetForm.valid && this.resettingPasswordUser) {\n      const newPassword = this.passwordResetForm.value.newPassword;\n      this.userManagementService.adminResetPassword(this.resettingPasswordUser.id, newPassword).subscribe({\n        next: response => {\n          this.successMessage = response.message;\n          this.closePasswordResetModal();\n        },\n        error: err => {\n          this.errorMessage = err.error?.message || 'Erreur lors de la réinitialisation';\n        }\n      });\n    }\n  }\n  closePasswordResetModal() {\n    this.showPasswordResetModal = false;\n    this.resettingPasswordUser = null;\n    this.passwordResetForm.reset();\n  }\n  // Utilitaires\n  getUserRoleNames(user) {\n    return user.roles.map(role => role.name).join(', ') || 'Aucun rôle';\n  }\n  hasRole(user, roleName) {\n    return user.roles.some(role => role.name === roleName);\n  }\n  getAvailableRoles(user) {\n    const userRoleIds = user.roles.map(role => role.id);\n    return this.roles.filter(role => !userRoleIds.includes(role.id) && role.is_active);\n  }\n  onRoleCheckboxChange(event, roleId) {\n    const roleIds = this.userForm.get('roleIds')?.value || [];\n    if (event.target.checked) {\n      if (!roleIds.includes(roleId)) {\n        roleIds.push(roleId);\n      }\n    } else {\n      const index = roleIds.indexOf(roleId);\n      if (index > -1) {\n        roleIds.splice(index, 1);\n      }\n    }\n    this.userForm.patchValue({\n      roleIds\n    });\n  }\n  clearMessages() {\n    this.errorMessage = null;\n    this.successMessage = null;\n  }\n  // Vérification des permissions\n  get canManageUsers() {\n    return this.authService.isAdmin;\n  }\n  get currentUserId() {\n    return this.authService.currentUser?.id || null;\n  }\n  getEndIndex() {\n    return Math.min(this.currentPage * this.pageSize, this.totalUsers);\n  }\n  static {\n    this.ɵfac = function UserManagementComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UserManagementComponent)(i0.ɵɵdirectiveInject(i1.UserManagementService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserManagementComponent,\n      selectors: [[\"app-user-management\"]],\n      decls: 52,\n      vars: 15,\n      consts: [[\"noRoles\", \"\"], [1, \"p-6\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-3xl\", \"font-bold\", \"text-primary\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 6v6m0 0v6m0-6h6m-6 0H6\"], [\"class\", \"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\", 4, \"ngIf\"], [\"class\", \"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md\", 4, \"ngIf\"], [1, \"card\", \"mb-6\"], [1, \"text-lg\", \"font-semibold\", \"text-dark\", \"mb-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-4\", \"gap-4\"], [1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"type\", \"text\", \"placeholder\", \"Nom, email, username...\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"value\", \"active\"], [\"value\", \"inactive\"], [1, \"flex\", \"items-end\"], [1, \"btn\", \"btn-secondary\", \"w-full\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [\"class\", \"card mb-6\", 4, \"ngIf\"], [1, \"card\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\"], [1, \"text-xl\", \"font-semibold\", \"text-dark\"], [1, \"text-sm\", \"text-gray-600\"], [\"class\", \"text-center text-primary py-8\", 4, \"ngIf\"], [\"class\", \"text-center text-gray-600 py-8\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [\"class\", \"flex items-center justify-between mt-6\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\", 4, \"ngIf\"], [1, \"mb-4\", \"p-4\", \"bg-red-100\", \"border\", \"border-red-400\", \"text-red-700\", \"rounded-md\"], [1, \"flex\"], [\"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 1, \"h-5\", \"w-5\", \"text-red-400\", \"mr-2\"], [\"fill-rule\", \"evenodd\", \"d\", \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\", \"clip-rule\", \"evenodd\"], [1, \"mb-4\", \"p-4\", \"bg-green-100\", \"border\", \"border-green-400\", \"text-green-700\", \"rounded-md\"], [\"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 1, \"h-5\", \"w-5\", \"text-green-400\", \"mr-2\"], [\"fill-rule\", \"evenodd\", \"d\", \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\", \"clip-rule\", \"evenodd\"], [3, \"value\"], [1, \"text-xl\", \"font-semibold\", \"text-dark\", \"mb-4\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"type\", \"text\", \"formControlName\", \"username\", \"placeholder\", \"username\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"class\", \"text-red-500 text-xs mt-1\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"user@example.com\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"type\", \"text\", \"formControlName\", \"firstName\", \"placeholder\", \"Pr\\u00E9nom\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"type\", \"text\", \"formControlName\", \"lastName\", \"placeholder\", \"Nom\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [1, \"md:col-span-2\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Minimum 6 caract\\u00E8res\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [1, \"grid\", \"grid-cols-2\", \"md:grid-cols-4\", \"gap-2\"], [\"class\", \"flex items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-6\", \"flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"text-red-500\", \"text-xs\", \"mt-1\"], [1, \"flex\", \"items-center\"], [\"type\", \"checkbox\", 1, \"h-4\", \"w-4\", \"text-primary\", \"focus:ring-primary\", \"border-gray-300\", \"rounded\", 3, \"change\", \"id\", \"value\"], [1, \"ml-2\", \"block\", \"text-sm\", \"text-gray-900\", 3, \"for\"], [1, \"text-center\", \"text-primary\", \"py-8\"], [1, \"inline-block\", \"animate-spin\", \"rounded-full\", \"h-8\", \"w-8\", \"border-b-2\", \"border-primary\"], [1, \"mt-2\"], [1, \"text-center\", \"text-gray-600\", \"py-8\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-12\", \"h-12\", \"mx-auto\", \"text-gray-400\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H2v-2a3 3 0 015.356-1.857M17 20v-2c0-.653-.146-1.28-.42-1.857M7 20v-2c0-.653.146-1.28.42-1.857M7 20h10m0 0a3 3 0 00-5.356-1.857M7 16.143A3 3 0 0112 13c1.482 0 2.86.51 3.944 1.386M12 14a3 3 0 100-6 3 3 0 000 6z\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\", \"table-auto\"], [1, \"bg-gray-50\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-medium\", \"text-gray-500\", \"uppercase\", \"tracking-wider\"], [1, \"bg-white\", \"divide-y\", \"divide-gray-200\"], [\"class\", \"hover:bg-gray-50\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover:bg-gray-50\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\"], [1, \"w-10\", \"h-10\", \"bg-primary\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"text-white\", \"font-bold\", \"mr-3\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-500\"], [\"class\", \"text-xs text-green-600\", 4, \"ngIf\"], [\"class\", \"text-xs text-red-600\", 4, \"ngIf\"], [1, \"flex\", \"flex-wrap\", \"gap-1\"], [\"class\", \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\", 3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-xs text-gray-400\", 4, \"ngIf\"], [1, \"inline-flex\", \"items-center\", \"px-2.5\", \"py-0.5\", \"rounded-full\", \"text-xs\", \"font-medium\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"font-medium\"], [1, \"flex\", \"space-x-2\"], [1, \"text-blue-600\", \"hover:text-blue-900\", \"transition-colors\", \"duration-150\", 3, \"click\"], [1, \"text-purple-600\", \"hover:text-purple-900\", \"transition-colors\", \"duration-150\", 3, \"click\"], [1, \"text-yellow-600\", \"hover:text-yellow-900\", \"transition-colors\", \"duration-150\", 3, \"click\"], [1, \"transition-colors\", \"duration-150\", 3, \"click\"], [1, \"text-red-600\", \"hover:text-red-900\", \"transition-colors\", \"duration-150\", 3, \"click\", \"disabled\"], [1, \"text-xs\", \"text-green-600\"], [1, \"text-xs\", \"text-red-600\"], [1, \"text-xs\", \"text-gray-400\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mt-6\"], [1, \"text-sm\", \"text-gray-700\"], [1, \"btn\", \"btn-secondary\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"click\", \"disabled\"], [\"class\", \"w-10\", 3, \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-10\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"bg-gray-600\", \"bg-opacity-50\", \"overflow-y-auto\", \"h-full\", \"w-full\", \"z-50\"], [1, \"relative\", \"top-20\", \"mx-auto\", \"p-5\", \"border\", \"w-full\", \"max-w-md\", \"shadow-lg\", \"rounded-md\", \"bg-white\"], [1, \"mt-3\"], [1, \"text-lg\", \"font-medium\", \"text-gray-900\"], [1, \"text-gray-400\", \"hover:text-gray-600\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\"], [1, \"mb-4\"], [1, \"font-medium\", \"text-gray-900\", \"mb-2\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"text-gray-500 text-sm\", 4, \"ngIf\"], [\"class\", \"flex items-center justify-between p-2 bg-blue-50 rounded mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"justify-end\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"flex items-center justify-between p-2 bg-gray-50 rounded mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-gray-500\", \"text-sm\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-2\", \"bg-gray-50\", \"rounded\", \"mb-2\"], [1, \"text-sm\", \"font-medium\"], [1, \"text-red-600\", \"hover:text-red-800\", \"text-sm\", 3, \"click\"], [1, \"flex\", \"items-center\", \"justify-between\", \"p-2\", \"bg-blue-50\", \"rounded\", \"mb-2\"], [1, \"text-xs\", \"text-gray-600\"], [1, \"text-blue-600\", \"hover:text-blue-800\", \"text-sm\", 3, \"click\"], [\"type\", \"password\", \"formControlName\", \"newPassword\", \"placeholder\", \"Minimum 6 caract\\u00E8res\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [1, \"flex\", \"justify-end\", \"space-x-2\"]],\n      template: function UserManagementComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h2\", 3);\n          i0.ɵɵtext(3, \"\\uD83D\\uDC65 Gestion des Utilisateurs\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function UserManagementComponent_Template_button_click_4_listener() {\n            return ctx.showCreateUserForm();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(5, \"svg\", 5);\n          i0.ɵɵelement(6, \"path\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(7, \" Cr\\u00E9er un utilisateur \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, UserManagementComponent_div_8_Template, 5, 1, \"div\", 7)(9, UserManagementComponent_div_9_Template, 5, 1, \"div\", 8);\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(10, \"div\", 9)(11, \"h3\", 10);\n          i0.ɵɵtext(12, \"\\uD83D\\uDD0D Filtres et Recherche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 11)(14, \"div\")(15, \"label\", 12);\n          i0.ɵɵtext(16, \"Recherche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_Template_input_ngModelChange_17_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchQuery, $event) || (ctx.searchQuery = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"input\", function UserManagementComponent_Template_input_input_17_listener() {\n            return ctx.onSearch();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\")(19, \"label\", 12);\n          i0.ɵɵtext(20, \"R\\u00F4le\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"select\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_Template_select_ngModelChange_21_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedRole, $event) || (ctx.selectedRole = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function UserManagementComponent_Template_select_change_21_listener() {\n            return ctx.onFilterChange();\n          });\n          i0.ɵɵelementStart(22, \"option\", 15);\n          i0.ɵɵtext(23, \"Tous les r\\u00F4les\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, UserManagementComponent_option_24_Template, 2, 2, \"option\", 16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\")(26, \"label\", 12);\n          i0.ɵɵtext(27, \"Statut\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"select\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function UserManagementComponent_Template_select_ngModelChange_28_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedStatus, $event) || (ctx.selectedStatus = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function UserManagementComponent_Template_select_change_28_listener() {\n            return ctx.onFilterChange();\n          });\n          i0.ɵɵelementStart(29, \"option\", 15);\n          i0.ɵɵtext(30, \"Tous les statuts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"option\", 17);\n          i0.ɵɵtext(32, \"Actifs\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"option\", 18);\n          i0.ɵɵtext(34, \"Inactifs\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(35, \"div\", 19)(36, \"button\", 20);\n          i0.ɵɵlistener(\"click\", function UserManagementComponent_Template_button_click_36_listener() {\n            return ctx.clearFilters();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(37, \"svg\", 21);\n          i0.ɵɵelement(38, \"path\", 22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(39, \" Effacer \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(40, UserManagementComponent_div_40_Template, 40, 11, \"div\", 23);\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(41, \"div\", 24)(42, \"div\", 25)(43, \"h3\", 26);\n          i0.ɵɵtext(44);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"div\", 27);\n          i0.ɵɵtext(46);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(47, UserManagementComponent_div_47_Template, 4, 0, \"div\", 28)(48, UserManagementComponent_div_48_Template, 5, 0, \"div\", 29)(49, UserManagementComponent_div_49_Template, 18, 1, \"div\", 30)(50, UserManagementComponent_div_50_Template, 9, 7, \"div\", 31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(51, UserManagementComponent_div_51_Template, 24, 7, \"div\", 32);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchQuery);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedRole);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedStatus);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.showCreateForm);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" Utilisateurs (\", ctx.totalUsers, \") \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate2(\" Page \", ctx.currentPage, \" sur \", ctx.totalPages, \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.users.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.users.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.totalPages > 1);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showRoleModal);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, ReactiveFormsModule, i3.FormGroupDirective, i3.FormControlName],\n      styles: [\"\\n\\n.animate-spin[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n\\n\\n.status-active[_ngcontent-%COMP%] {\\n  background-color: #d1fae5;\\n  color: #065f46;\\n}\\n\\n.status-inactive[_ngcontent-%COMP%] {\\n  background-color: #fee2e2;\\n  color: #991b1b;\\n}\\n\\n\\n\\n.role-admin[_ngcontent-%COMP%] {\\n  background-color: #fee2e2;\\n  color: #991b1b;\\n}\\n\\n.role-hr[_ngcontent-%COMP%] {\\n  background-color: #dbeafe;\\n  color: #1e40af;\\n}\\n\\n.role-manager[_ngcontent-%COMP%] {\\n  background-color: #d1fae5;\\n  color: #065f46;\\n}\\n\\n.role-employee[_ngcontent-%COMP%] {\\n  background-color: #f3f4f6;\\n  color: #374151;\\n}\\n\\n\\n\\n.table-row[_ngcontent-%COMP%]:hover {\\n  background-color: #f9fafb;\\n}\\n\\n\\n\\n.modal-backdrop[_ngcontent-%COMP%] {\\n  -webkit-backdrop-filter: blur(4px);\\n          backdrop-filter: blur(4px);\\n}\\n\\n\\n\\n.pagination-button[_ngcontent-%COMP%] {\\n  transition: all 0.2s ease-in-out;\\n}\\n\\n.pagination-button[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-1px);\\n}\\n\\n\\n\\n.form-error[_ngcontent-%COMP%] {\\n  border-color: #ef4444;\\n  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);\\n}\\n\\n.form-success[_ngcontent-%COMP%] {\\n  border-color: #10b981;\\n  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .table-container[_ngcontent-%COMP%] {\\n    overflow-x: auto;\\n  }\\n  \\n  .action-buttons[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 0.25rem;\\n  }\\n  \\n  .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    font-size: 0.75rem;\\n    padding: 0.25rem 0.5rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItbWFuYWdlbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9DQUFvQztBQUNwQztFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFO0lBQ0UsdUJBQXVCO0VBQ3pCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7QUFDRjs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBLGdCQUFnQjtBQUNoQjtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBLHdCQUF3QjtBQUN4QjtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxtQkFBbUI7QUFDbkI7RUFDRSxrQ0FBMEI7VUFBMUIsMEJBQTBCO0FBQzVCOztBQUVBLGVBQWU7QUFDZjtFQUNFLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQSxvQkFBb0I7QUFDcEI7RUFDRSxxQkFBcUI7RUFDckIsNENBQTRDO0FBQzlDOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLDZDQUE2QztBQUMvQzs7QUFFQSwyQkFBMkI7QUFDM0I7RUFDRTtJQUNFLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsdUJBQXVCO0VBQ3pCO0FBQ0YiLCJmaWxlIjoidXNlci1tYW5hZ2VtZW50LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBVc2VyIG1hbmFnZW1lbnQgc3BlY2lmaWMgc3R5bGVzICovXHJcbi5hbmltYXRlLXNwaW4ge1xyXG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgc3BpbiB7XHJcbiAgZnJvbSB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICB9XHJcbn1cclxuXHJcbi8qIFN0YXR1cyBiYWRnZXMgKi9cclxuLnN0YXR1cy1hY3RpdmUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNkMWZhZTU7XHJcbiAgY29sb3I6ICMwNjVmNDY7XHJcbn1cclxuXHJcbi5zdGF0dXMtaW5hY3RpdmUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZWUyZTI7XHJcbiAgY29sb3I6ICM5OTFiMWI7XHJcbn1cclxuXHJcbi8qIFJvbGUgYmFkZ2VzICovXHJcbi5yb2xlLWFkbWluIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVlMmUyO1xyXG4gIGNvbG9yOiAjOTkxYjFiO1xyXG59XHJcblxyXG4ucm9sZS1ociB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RiZWFmZTtcclxuICBjb2xvcjogIzFlNDBhZjtcclxufVxyXG5cclxuLnJvbGUtbWFuYWdlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QxZmFlNTtcclxuICBjb2xvcjogIzA2NWY0NjtcclxufVxyXG5cclxuLnJvbGUtZW1wbG95ZWUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y0ZjY7XHJcbiAgY29sb3I6ICMzNzQxNTE7XHJcbn1cclxuXHJcbi8qIFRhYmxlIGhvdmVyIGVmZmVjdHMgKi9cclxuLnRhYmxlLXJvdzpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYjtcclxufVxyXG5cclxuLyogTW9kYWwgYmFja2Ryb3AgKi9cclxuLm1vZGFsLWJhY2tkcm9wIHtcclxuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcclxufVxyXG5cclxuLyogUGFnaW5hdGlvbiAqL1xyXG4ucGFnaW5hdGlvbi1idXR0b24ge1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG4ucGFnaW5hdGlvbi1idXR0b246aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcclxufVxyXG5cclxuLyogRm9ybSB2YWxpZGF0aW9uICovXHJcbi5mb3JtLWVycm9yIHtcclxuICBib3JkZXItY29sb3I6ICNlZjQ0NDQ7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMjM5LCA2OCwgNjgsIDAuMSk7XHJcbn1cclxuXHJcbi5mb3JtLXN1Y2Nlc3Mge1xyXG4gIGJvcmRlci1jb2xvcjogIzEwYjk4MTtcclxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgxNiwgMTg1LCAxMjksIDAuMSk7XHJcbn1cclxuXHJcbi8qIFJlc3BvbnNpdmUgYWRqdXN0bWVudHMgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gIH1cclxuICBcclxuICAuYWN0aW9uLWJ1dHRvbnMge1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMC4yNXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLmFjdGlvbi1idXR0b25zIGJ1dHRvbiB7XHJcbiAgICBmb250LXNpemU6IDAuNzVyZW07XHJcbiAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcclxuICB9XHJcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvYWRtaW4vdXNlci1tYW5hZ2VtZW50L3VzZXItbWFuYWdlbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9DQUFvQztBQUNwQztFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFO0lBQ0UsdUJBQXVCO0VBQ3pCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7QUFDRjs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBLGdCQUFnQjtBQUNoQjtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBLHdCQUF3QjtBQUN4QjtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxtQkFBbUI7QUFDbkI7RUFDRSxrQ0FBMEI7VUFBMUIsMEJBQTBCO0FBQzVCOztBQUVBLGVBQWU7QUFDZjtFQUNFLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQSxvQkFBb0I7QUFDcEI7RUFDRSxxQkFBcUI7RUFDckIsNENBQTRDO0FBQzlDOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLDZDQUE2QztBQUMvQzs7QUFFQSwyQkFBMkI7QUFDM0I7RUFDRTtJQUNFLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsdUJBQXVCO0VBQ3pCO0FBQ0Y7QUFFQSxveUdBQW95RyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFVzZXIgbWFuYWdlbWVudCBzcGVjaWZpYyBzdHlsZXMgKi9cclxuLmFuaW1hdGUtc3BpbiB7XHJcbiAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBzcGluIHtcclxuICBmcm9tIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xyXG4gIH1cclxufVxyXG5cclxuLyogU3RhdHVzIGJhZGdlcyAqL1xyXG4uc3RhdHVzLWFjdGl2ZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QxZmFlNTtcclxuICBjb2xvcjogIzA2NWY0NjtcclxufVxyXG5cclxuLnN0YXR1cy1pbmFjdGl2ZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZlZTJlMjtcclxuICBjb2xvcjogIzk5MWIxYjtcclxufVxyXG5cclxuLyogUm9sZSBiYWRnZXMgKi9cclxuLnJvbGUtYWRtaW4ge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZWUyZTI7XHJcbiAgY29sb3I6ICM5OTFiMWI7XHJcbn1cclxuXHJcbi5yb2xlLWhyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGJlYWZlO1xyXG4gIGNvbG9yOiAjMWU0MGFmO1xyXG59XHJcblxyXG4ucm9sZS1tYW5hZ2VyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDFmYWU1O1xyXG4gIGNvbG9yOiAjMDY1ZjQ2O1xyXG59XHJcblxyXG4ucm9sZS1lbXBsb3llZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjRmNjtcclxuICBjb2xvcjogIzM3NDE1MTtcclxufVxyXG5cclxuLyogVGFibGUgaG92ZXIgZWZmZWN0cyAqL1xyXG4udGFibGUtcm93OmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiO1xyXG59XHJcblxyXG4vKiBNb2RhbCBiYWNrZHJvcCAqL1xyXG4ubW9kYWwtYmFja2Ryb3Age1xyXG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xyXG59XHJcblxyXG4vKiBQYWdpbmF0aW9uICovXHJcbi5wYWdpbmF0aW9uLWJ1dHRvbiB7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbi5wYWdpbmF0aW9uLWJ1dHRvbjpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG59XHJcblxyXG4vKiBGb3JtIHZhbGlkYXRpb24gKi9cclxuLmZvcm0tZXJyb3Ige1xyXG4gIGJvcmRlci1jb2xvcjogI2VmNDQ0NDtcclxuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyMzksIDY4LCA2OCwgMC4xKTtcclxufVxyXG5cclxuLmZvcm0tc3VjY2VzcyB7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMTBiOTgxO1xyXG4gIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDE2LCAxODUsIDEyOSwgMC4xKTtcclxufVxyXG5cclxuLyogUmVzcG9uc2l2ZSBhZGp1c3RtZW50cyAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAudGFibGUtY29udGFpbmVyIHtcclxuICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIC5hY3Rpb24tYnV0dG9ucyB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAwLjI1cmVtO1xyXG4gIH1cclxuICBcclxuICAuYWN0aW9uLWJ1dHRvbnMgYnV0dG9uIHtcclxuICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcclxuICAgIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","ReactiveFormsModule","Validators","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","successMessage","ɵɵproperty","role_r2","name","ɵɵtextInterpolate","ɵɵlistener","UserManagementComponent_div_40_div_34_Template_input_change_1_listener","$event","role_r5","ɵɵrestoreView","_r4","$implicit","ɵɵnextContext","ɵɵresetView","onRoleCheckboxChange","id","UserManagementComponent_div_40_Template_form_ngSubmit_3_listener","_r3","onUserSubmit","ɵɵtemplate","UserManagementComponent_div_40_div_9_Template","UserManagementComponent_div_40_div_14_Template","UserManagementComponent_div_40_div_19_Template","UserManagementComponent_div_40_div_24_Template","UserManagementComponent_div_40_div_29_Template","UserManagementComponent_div_40_div_34_Template","UserManagementComponent_div_40_Template_button_click_38_listener","cancelUserForm","editingUser","userForm","tmp_3_0","get","invalid","touched","tmp_4_0","tmp_5_0","tmp_6_0","tmp_8_0","roles","valid","ɵɵclassMap","role_r7","UserManagementComponent_div_49_tr_17_div_13_Template","UserManagementComponent_div_49_tr_17_div_14_Template","UserManagementComponent_div_49_tr_17_span_17_Template","UserManagementComponent_div_49_tr_17_span_18_Template","UserManagementComponent_div_49_tr_17_Template_button_click_27_listener","user_r8","_r6","editUser","UserManagementComponent_div_49_tr_17_Template_button_click_29_listener","showRoleManagement","UserManagementComponent_div_49_tr_17_Template_button_click_31_listener","showPasswordReset","UserManagementComponent_div_49_tr_17_Template_button_click_33_listener","toggleUserStatus","UserManagementComponent_div_49_tr_17_Template_button_click_35_listener","deleteUser","ɵɵtextInterpolate2","firstName","charAt","toUpperCase","lastName","username","email","emailVerified","length","isActive","lastLogin","ɵɵpipeBind2","currentUserId","UserManagementComponent_div_49_tr_17_Template","users","UserManagementComponent_div_50_button_6_Template_button_click_0_listener","i_r11","_r10","index","goToPage","currentPage","UserManagementComponent_div_50_Template_button_click_4_listener","_r9","UserManagementComponent_div_50_button_6_Template","UserManagementComponent_div_50_Template_button_click_7_listener","ɵɵtextInterpolate3","pageSize","Math","min","totalUsers","ɵɵpureFunction0","_c0","constructor","totalPages","UserManagementComponent_div_51_ng_container_12_div_2_Template_button_click_3_listener","role_r14","_r13","removeRole","ɵɵelementContainerStart","UserManagementComponent_div_51_ng_container_12_div_1_Template","UserManagementComponent_div_51_ng_container_12_div_2_Template","managingRolesUser","UserManagementComponent_div_51_div_19_Template_button_click_6_listener","role_r16","_r15","assignRole","description","UserManagementComponent_div_51_div_23_Template_button_click_6_listener","_r17","closePasswordResetModal","UserManagementComponent_div_51_div_23_Template_form_ngSubmit_9_listener","onPasswordResetSubmit","UserManagementComponent_div_51_div_23_div_14_Template","UserManagementComponent_div_51_div_23_Template_button_click_16_listener","resettingPasswordUser","passwordResetForm","UserManagementComponent_div_51_Template_button_click_6_listener","_r12","closeRoleModal","UserManagementComponent_div_51_ng_container_12_Template","UserManagementComponent_div_51_ng_template_13_Template","ɵɵtemplateRefExtractor","UserManagementComponent_div_51_div_18_Template","UserManagementComponent_div_51_div_19_Template","UserManagementComponent_div_51_Template_button_click_21_listener","UserManagementComponent_div_51_div_23_Template","noRoles_r18","getAvailableRoles","showPasswordResetModal","UserManagementComponent","userManagementService","authService","formBuilder","searchQuery","selectedRole","selectedStatus","loading","showCreateForm","showRoleModal","group","required","minLength","maxLength","password","roleIds","newPassword","ngOnInit","loadUsers","loadRoles","undefined","getUsers","subscribe","next","response","pagination","total","error","err","console","getRoles","onSearch","onFilterChange","clearFilters","page","showCreateUserForm","reset","setValidators","clearMessages","user","patchValue","map","role","clearValidators","updateValueAndValidity","formData","value","updateData","updateUser","message","createData","createUser","permanent","action","confirmMessage","window","confirm","roleId","userId","find","r","adminResetPassword","getUserRoleNames","join","hasRole","roleName","some","userRoleIds","filter","includes","is_active","event","target","checked","push","indexOf","splice","canManageUsers","isAdmin","currentUser","getEndIndex","ɵɵdirectiveInject","i1","UserManagementService","i2","AuthService","i3","FormBuilder","selectors","decls","vars","consts","template","UserManagementComponent_Template","rf","ctx","UserManagementComponent_Template_button_click_4_listener","UserManagementComponent_div_8_Template","UserManagementComponent_div_9_Template","ɵɵtwoWayListener","UserManagementComponent_Template_input_ngModelChange_17_listener","ɵɵtwoWayBindingSet","UserManagementComponent_Template_input_input_17_listener","UserManagementComponent_Template_select_ngModelChange_21_listener","UserManagementComponent_Template_select_change_21_listener","UserManagementComponent_option_24_Template","UserManagementComponent_Template_select_ngModelChange_28_listener","UserManagementComponent_Template_select_change_28_listener","UserManagementComponent_Template_button_click_36_listener","UserManagementComponent_div_40_Template","UserManagementComponent_div_47_Template","UserManagementComponent_div_48_Template","UserManagementComponent_div_49_Template","UserManagementComponent_div_50_Template","UserManagementComponent_div_51_Template","ɵɵtwoWayProperty","i4","NgForOf","NgIf","DatePipe","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\admin\\user-management\\user-management.component.ts","C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\admin\\user-management\\user-management.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { UserManagementService } from '../../../services/user-management.service';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport { UserManagement, Role, CreateUserRequest, UpdateUserRequest } from '../../../models/user-management.model';\r\n\r\n@Component({\r\n  selector: 'app-user-management',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\r\n  templateUrl: './user-management.component.html',\r\n  styleUrls: ['./user-management.component.css']\r\n})\r\nexport class UserManagementComponent implements OnInit {\r\n  users: UserManagement[] = [];\r\n  roles: Role[] = [];\r\n  \r\n  // Pagination\r\n  currentPage: number = 1;\r\n  totalPages: number = 1;\r\n  totalUsers: number = 0;\r\n  pageSize: number = 10;\r\n  \r\n  // Filtres\r\n  searchQuery: string = '';\r\n  selectedRole: string = '';\r\n  selectedStatus: string = '';\r\n  \r\n  // Formulaires\r\n  userForm: FormGroup;\r\n  passwordResetForm: FormGroup;\r\n  \r\n  // États\r\n  loading: boolean = false;\r\n  showCreateForm: boolean = false;\r\n  editingUser: UserManagement | null = null;\r\n  showPasswordResetModal: boolean = false;\r\n  resettingPasswordUser: UserManagement | null = null;\r\n  showRoleModal: boolean = false;\r\n  managingRolesUser: UserManagement | null = null;\r\n  \r\n  // Messages\r\n  errorMessage: string | null = null;\r\n  successMessage: string | null = null;\r\nMath: any;\r\n\r\n  constructor(\r\n    private userManagementService: UserManagementService,\r\n    private authService: AuthService,\r\n    private formBuilder: FormBuilder\r\n  ) {\r\n    this.userForm = this.formBuilder.group({\r\n      username: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\r\n      firstName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\r\n      lastName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(50)]],\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      roleIds: [[]]\r\n    });\r\n\r\n    this.passwordResetForm = this.formBuilder.group({\r\n      newPassword: ['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadUsers();\r\n    this.loadRoles();\r\n  }\r\n\r\n  loadUsers(): void {\r\n    this.loading = true;\r\n    this.errorMessage = null;\r\n    \r\n    const isActive = this.selectedStatus === 'active' ? true : \r\n                    this.selectedStatus === 'inactive' ? false : undefined;\r\n\r\n    this.userManagementService.getUsers(\r\n      this.currentPage, \r\n      this.pageSize, \r\n      this.searchQuery || undefined, \r\n      this.selectedRole || undefined, \r\n      isActive\r\n    ).subscribe({\r\n      next: (response) => {\r\n        this.users = response.users;\r\n        this.totalUsers = response.pagination.total;\r\n        this.totalPages = response.pagination.totalPages;\r\n        this.loading = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Error loading users:', err);\r\n        this.errorMessage = 'Erreur lors du chargement des utilisateurs';\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadRoles(): void {\r\n    this.userManagementService.getRoles().subscribe({\r\n      next: (response) => {\r\n        this.roles = response.roles;\r\n      },\r\n      error: (err) => {\r\n        console.error('Error loading roles:', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSearch(): void {\r\n    this.currentPage = 1;\r\n    this.loadUsers();\r\n  }\r\n\r\n  onFilterChange(): void {\r\n    this.currentPage = 1;\r\n    this.loadUsers();\r\n  }\r\n\r\n  clearFilters(): void {\r\n    this.searchQuery = '';\r\n    this.selectedRole = '';\r\n    this.selectedStatus = '';\r\n    this.currentPage = 1;\r\n    this.loadUsers();\r\n  }\r\n\r\n  // Pagination\r\n  goToPage(page: number): void {\r\n    if (page >= 1 && page <= this.totalPages) {\r\n      this.currentPage = page;\r\n      this.loadUsers();\r\n    }\r\n  }\r\n\r\n  // Gestion des utilisateurs\r\n  showCreateUserForm(): void {\r\n    this.showCreateForm = true;\r\n    this.editingUser = null;\r\n    this.userForm.reset();\r\n    this.userForm.get('password')?.setValidators([Validators.required, Validators.minLength(6)]);\r\n    this.clearMessages();\r\n  }\r\n\r\n  editUser(user: UserManagement): void {\r\n    this.editingUser = user;\r\n    this.showCreateForm = true;\r\n    this.userForm.patchValue({\r\n      username: user.username,\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      roleIds: user.roles.map(role => role.id)\r\n    });\r\n    // Retirer la validation obligatoire du mot de passe pour la modification\r\n    this.userForm.get('password')?.clearValidators();\r\n    this.userForm.get('password')?.updateValueAndValidity();\r\n    this.clearMessages();\r\n  }\r\n\r\n  onUserSubmit(): void {\r\n    if (this.userForm.valid) {\r\n      const formData = this.userForm.value;\r\n      \r\n      if (this.editingUser) {\r\n        // Mise à jour\r\n        const updateData: UpdateUserRequest = {\r\n          username: formData.username,\r\n          firstName: formData.firstName,\r\n          lastName: formData.lastName,\r\n          email: formData.email\r\n        };\r\n        \r\n        if (formData.password) {\r\n          updateData.password = formData.password;\r\n        }\r\n\r\n        this.userManagementService.updateUser(this.editingUser.id, updateData).subscribe({\r\n          next: (response) => {\r\n            this.successMessage = response.message;\r\n            this.loadUsers();\r\n            this.cancelUserForm();\r\n          },\r\n          error: (err) => {\r\n            this.errorMessage = err.error?.message || 'Erreur lors de la mise à jour';\r\n          }\r\n        });\r\n      } else {\r\n        // Création\r\n        const createData: CreateUserRequest = {\r\n          username: formData.username,\r\n          firstName: formData.firstName,\r\n          lastName: formData.lastName,\r\n          email: formData.email,\r\n          password: formData.password,\r\n          roleIds: formData.roleIds\r\n        };\r\n\r\n        this.userManagementService.createUser(createData).subscribe({\r\n          next: (response) => {\r\n            this.successMessage = response.message;\r\n            this.loadUsers();\r\n            this.cancelUserForm();\r\n          },\r\n          error: (err) => {\r\n            this.errorMessage = err.error?.message || 'Erreur lors de la création';\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  cancelUserForm(): void {\r\n    this.showCreateForm = false;\r\n    this.editingUser = null;\r\n    this.userForm.reset();\r\n    this.clearMessages();\r\n  }\r\n\r\n  deleteUser(user: UserManagement, permanent: boolean = false): void {\r\n    const action = permanent ? 'supprimer définitivement' : 'désactiver';\r\n    const confirmMessage = `Êtes-vous sûr de vouloir ${action} l'utilisateur \"${user.username}\" ?`;\r\n    \r\n    if (window.confirm(confirmMessage)) {\r\n      this.userManagementService.deleteUser(user.id, !permanent).subscribe({\r\n        next: (response) => {\r\n          this.successMessage = response.message;\r\n          this.loadUsers();\r\n        },\r\n        error: (err) => {\r\n          this.errorMessage = err.error?.message || `Erreur lors de la ${action}`;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleUserStatus(user: UserManagement): void {\r\n    const action = user.isActive ? 'désactiver' : 'activer';\r\n    \r\n    if (window.confirm(`Êtes-vous sûr de vouloir ${action} l'utilisateur \"${user.username}\" ?`)) {\r\n      this.userManagementService.toggleUserStatus(user.id).subscribe({\r\n        next: (response) => {\r\n          this.successMessage = response.message;\r\n          this.loadUsers();\r\n        },\r\n        error: (err) => {\r\n          this.errorMessage = err.error?.message || `Erreur lors de l'${action}`;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Gestion des rôles\r\n  showRoleManagement(user: UserManagement): void {\r\n    this.managingRolesUser = user;\r\n    this.showRoleModal = true;\r\n    this.clearMessages();\r\n  }\r\n\r\n  assignRole(roleId: number): void {\r\n    if (!this.managingRolesUser) return;\r\n\r\n    this.userManagementService.assignRole({\r\n      userId: this.managingRolesUser.id,\r\n      roleId: roleId\r\n    }).subscribe({\r\n      next: (response) => {\r\n        this.successMessage = response.message;\r\n        this.loadUsers();\r\n        this.closeRoleModal();\r\n      },\r\n      error: (err) => {\r\n        this.errorMessage = err.error?.message || 'Erreur lors de l\\'attribution du rôle';\r\n      }\r\n    });\r\n  }\r\n\r\n  removeRole(roleId: number): void {\r\n    if (!this.managingRolesUser) return;\r\n\r\n    const role = this.roles.find(r => r.id === roleId);\r\n    if (window.confirm(`Retirer le rôle \"${role?.name}\" de ${this.managingRolesUser.username} ?`)) {\r\n      this.userManagementService.removeRole({\r\n        userId: this.managingRolesUser.id,\r\n        roleId: roleId\r\n      }).subscribe({\r\n        next: (response) => {\r\n          this.successMessage = response.message;\r\n          this.loadUsers();\r\n          this.closeRoleModal();\r\n        },\r\n        error: (err) => {\r\n          this.errorMessage = err.error?.message || 'Erreur lors du retrait du rôle';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closeRoleModal(): void {\r\n    this.showRoleModal = false;\r\n    this.managingRolesUser = null;\r\n  }\r\n\r\n  // Réinitialisation de mot de passe\r\n  showPasswordReset(user: UserManagement): void {\r\n    this.resettingPasswordUser = user;\r\n    this.showPasswordResetModal = true;\r\n    this.passwordResetForm.reset();\r\n    this.clearMessages();\r\n  }\r\n\r\n  onPasswordResetSubmit(): void {\r\n    if (this.passwordResetForm.valid && this.resettingPasswordUser) {\r\n      const newPassword = this.passwordResetForm.value.newPassword;\r\n      \r\n      this.userManagementService.adminResetPassword(this.resettingPasswordUser.id, newPassword).subscribe({\r\n        next: (response) => {\r\n          this.successMessage = response.message;\r\n          this.closePasswordResetModal();\r\n        },\r\n        error: (err) => {\r\n          this.errorMessage = err.error?.message || 'Erreur lors de la réinitialisation';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closePasswordResetModal(): void {\r\n    this.showPasswordResetModal = false;\r\n    this.resettingPasswordUser = null;\r\n    this.passwordResetForm.reset();\r\n  }\r\n\r\n  // Utilitaires\r\n  getUserRoleNames(user: UserManagement): string {\r\n    return user.roles.map(role => role.name).join(', ') || 'Aucun rôle';\r\n  }\r\n\r\n  hasRole(user: UserManagement, roleName: string): boolean {\r\n    return user.roles.some(role => role.name === roleName);\r\n  }\r\n\r\n  getAvailableRoles(user: UserManagement): Role[] {\r\n    const userRoleIds = user.roles.map(role => role.id);\r\n    return this.roles.filter(role => !userRoleIds.includes(role.id) && role.is_active);\r\n  }\r\n\r\n  onRoleCheckboxChange(event: any, roleId: number): void {\r\n    const roleIds = this.userForm.get('roleIds')?.value || [];\r\n    \r\n    if (event.target.checked) {\r\n      if (!roleIds.includes(roleId)) {\r\n        roleIds.push(roleId);\r\n      }\r\n    } else {\r\n      const index = roleIds.indexOf(roleId);\r\n      if (index > -1) {\r\n        roleIds.splice(index, 1);\r\n      }\r\n    }\r\n    \r\n    this.userForm.patchValue({ roleIds });\r\n  }\r\n\r\n  clearMessages(): void {\r\n    this.errorMessage = null;\r\n    this.successMessage = null;\r\n  }\r\n\r\n  // Vérification des permissions\r\n  get canManageUsers(): boolean {\r\n    return this.authService.isAdmin;\r\n  }\r\n\r\n  get currentUserId(): number | null {\r\n    return this.authService.currentUser?.id || null;\r\n  }\r\n  getEndIndex(): number {\r\n  return Math.min(this.currentPage * this.pageSize, this.totalUsers);\r\n}\r\n}","<div class=\"p-6\">\r\n  <div class=\"flex justify-between items-center mb-6\">\r\n    <h2 class=\"text-3xl font-bold text-primary\">👥 Gestion des Utilisateurs</h2>\r\n    <button (click)=\"showCreateUserForm()\" class=\"btn btn-primary\">\r\n      <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\r\n      </svg>\r\n      Créer un utilisateur\r\n    </button>\r\n  </div>\r\n\r\n  <!-- Messages -->\r\n  <div *ngIf=\"errorMessage\" class=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md\">\r\n    <div class=\"flex\">\r\n      <svg class=\"h-5 w-5 text-red-400 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\r\n      </svg>\r\n      {{ errorMessage }}\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"successMessage\" class=\"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md\">\r\n    <div class=\"flex\">\r\n      <svg class=\"h-5 w-5 text-green-400 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n        <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\r\n      </svg>\r\n      {{ successMessage }}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Filtres et recherche -->\r\n  <div class=\"card mb-6\">\r\n    <h3 class=\"text-lg font-semibold text-dark mb-4\">🔍 Filtres et Recherche</h3>\r\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n      <div>\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Recherche</label>\r\n        <input type=\"text\" [(ngModel)]=\"searchQuery\" (input)=\"onSearch()\" \r\n               placeholder=\"Nom, email, username...\" \r\n               class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\r\n      </div>\r\n      <div>\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Rôle</label>\r\n        <select [(ngModel)]=\"selectedRole\" (change)=\"onFilterChange()\" \r\n                class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\r\n          <option value=\"\">Tous les rôles</option>\r\n          <option *ngFor=\"let role of roles\" [value]=\"role.name\">{{ role.name }}</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Statut</label>\r\n        <select [(ngModel)]=\"selectedStatus\" (change)=\"onFilterChange()\" \r\n                class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\r\n          <option value=\"\">Tous les statuts</option>\r\n          <option value=\"active\">Actifs</option>\r\n          <option value=\"inactive\">Inactifs</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"flex items-end\">\r\n        <button (click)=\"clearFilters()\" class=\"btn btn-secondary w-full\">\r\n          <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n          Effacer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Formulaire de création/modification -->\r\n  <div *ngIf=\"showCreateForm\" class=\"card mb-6\">\r\n    <h3 class=\"text-xl font-semibold text-dark mb-4\">\r\n      {{ editingUser ? 'Modifier l\\'utilisateur' : 'Créer un utilisateur' }}\r\n    </h3>\r\n    \r\n    <form [formGroup]=\"userForm\" (ngSubmit)=\"onUserSubmit()\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div>\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Nom d'utilisateur *</label>\r\n          <input type=\"text\" formControlName=\"username\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"username\">\r\n          <div *ngIf=\"userForm.get('username')?.invalid && userForm.get('username')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Nom d'utilisateur requis (3-50 caractères)\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Email *</label>\r\n          <input type=\"email\" formControlName=\"email\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"user@example.com\">\r\n          <div *ngIf=\"userForm.get('email')?.invalid && userForm.get('email')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Email valide requis\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Prénom *</label>\r\n          <input type=\"text\" formControlName=\"firstName\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"Prénom\">\r\n          <div *ngIf=\"userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Prénom requis (2-50 caractères)\r\n          </div>\r\n        </div>\r\n        \r\n        <div>\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Nom *</label>\r\n          <input type=\"text\" formControlName=\"lastName\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"Nom\">\r\n          <div *ngIf=\"userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Nom requis (2-50 caractères)\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"md:col-span-2\">\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">\r\n            Mot de passe {{ editingUser ? '(laisser vide pour ne pas changer)' : '*' }}\r\n          </label>\r\n          <input type=\"password\" formControlName=\"password\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"Minimum 6 caractères\">\r\n          <div *ngIf=\"userForm.get('password')?.invalid && userForm.get('password')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Mot de passe requis (minimum 6 caractères)\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"md:col-span-2\">\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Rôles</label>\r\n          <div class=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n            <div *ngFor=\"let role of roles\" class=\"flex items-center\">\r\n              <input type=\"checkbox\" [id]=\"'role-' + role.id\" \r\n                     [value]=\"role.id\" \r\n                     (change)=\"onRoleCheckboxChange($event, role.id)\"\r\n                     class=\"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\">\r\n              <label [for]=\"'role-' + role.id\" class=\"ml-2 block text-sm text-gray-900\">\r\n                {{ role.name }}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"mt-6 flex gap-2\">\r\n        <button type=\"submit\" [disabled]=\"!userForm.valid\" \r\n                class=\"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          {{ editingUser ? 'Mettre à jour' : 'Créer' }}\r\n        </button>\r\n        <button type=\"button\" (click)=\"cancelUserForm()\" class=\"btn btn-secondary\">\r\n          Annuler\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- Liste des utilisateurs -->\r\n  <div class=\"card\">\r\n    <div class=\"flex justify-between items-center mb-4\">\r\n      <h3 class=\"text-xl font-semibold text-dark\">\r\n        Utilisateurs ({{ totalUsers }})\r\n      </h3>\r\n      <div class=\"text-sm text-gray-600\">\r\n        Page {{ currentPage }} sur {{ totalPages }}\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"loading\" class=\"text-center text-primary py-8\">\r\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n      <p class=\"mt-2\">Chargement des utilisateurs...</p>\r\n    </div>\r\n\r\n    <div *ngIf=\"!loading && users.length === 0\" class=\"text-center text-gray-600 py-8\">\r\n      <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H2v-2a3 3 0 015.356-1.857M17 20v-2c0-.653-.146-1.28-.42-1.857M7 20v-2c0-.653.146-1.28.42-1.857M7 20h10m0 0a3 3 0 00-5.356-1.857M7 16.143A3 3 0 0112 13c1.482 0 2.86.51 3.944 1.386M12 14a3 3 0 100-6 3 3 0 000 6z\"></path>\r\n      </svg>\r\n      <p>Aucun utilisateur trouvé.</p>\r\n    </div>\r\n\r\n    <div *ngIf=\"!loading && users.length > 0\" class=\"overflow-x-auto\">\r\n      <table class=\"min-w-full table-auto\">\r\n        <thead class=\"bg-gray-50\">\r\n          <tr>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Utilisateur</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Rôles</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Statut</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Dernière connexion</th>\r\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"bg-white divide-y divide-gray-200\">\r\n          <tr *ngFor=\"let user of users\" class=\"hover:bg-gray-50\">\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">\r\n              <div class=\"flex items-center\">\r\n                <div class=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold mr-3\">\r\n                  {{ user.firstName.charAt(0).toUpperCase() }}{{ user.lastName.charAt(0).toUpperCase() }}\r\n                </div>\r\n                <div>\r\n                  <div class=\"text-sm font-medium text-gray-900\">{{ user.firstName }} {{ user.lastName }}</div>\r\n                  <div class=\"text-sm text-gray-500\">{{ user.username }}</div>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n              <div>{{ user.email }}</div>\r\n              <div *ngIf=\"user.emailVerified\" class=\"text-xs text-green-600\">✓ Vérifié</div>\r\n              <div *ngIf=\"!user.emailVerified\" class=\"text-xs text-red-600\">✗ Non vérifié</div>\r\n            </td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">\r\n              <div class=\"flex flex-wrap gap-1\">\r\n                <span *ngFor=\"let role of user.roles\" \r\n                      class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\r\n                      [class]=\"role.name === 'admin' ? 'bg-red-100 text-red-800' : \r\n                               role.name === 'hr' ? 'bg-blue-100 text-blue-800' : \r\n                               role.name === 'manager' ? 'bg-green-100 text-green-800' : \r\n                               'bg-gray-100 text-gray-800'\">\r\n                  {{ role.name }}\r\n                </span>\r\n                <span *ngIf=\"user.roles.length === 0\" class=\"text-xs text-gray-400\">Aucun rôle</span>\r\n              </div>\r\n            </td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap\">\r\n              <span [class]=\"user.isActive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\" \r\n                    class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\">\r\n                {{ user.isActive ? 'Actif' : 'Inactif' }}\r\n              </span>\r\n            </td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n              {{ user.lastLogin ? (user.lastLogin | date:'dd/MM/yyyy HH:mm') : 'Jamais' }}\r\n            </td>\r\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n              <div class=\"flex space-x-2\">\r\n                <button (click)=\"editUser(user)\" \r\n                        class=\"text-blue-600 hover:text-blue-900 transition-colors duration-150\">\r\n                  Modifier\r\n                </button>\r\n                <button (click)=\"showRoleManagement(user)\" \r\n                        class=\"text-purple-600 hover:text-purple-900 transition-colors duration-150\">\r\n                  Rôles\r\n                </button>\r\n                <button (click)=\"showPasswordReset(user)\" \r\n                        class=\"text-yellow-600 hover:text-yellow-900 transition-colors duration-150\">\r\n                  Reset MDP\r\n                </button>\r\n                <button (click)=\"toggleUserStatus(user)\" \r\n                        [class]=\"user.isActive ? 'text-orange-600 hover:text-orange-900' : 'text-green-600 hover:text-green-900'\"\r\n                        class=\"transition-colors duration-150\">\r\n                  {{ user.isActive ? 'Désactiver' : 'Activer' }}\r\n                </button>\r\n                <button (click)=\"deleteUser(user, false)\" \r\n                        class=\"text-red-600 hover:text-red-900 transition-colors duration-150\"\r\n                        [disabled]=\"user.id === currentUserId\">\r\n                  Supprimer\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- Pagination -->\r\n    <div *ngIf=\"totalPages > 1\" class=\"flex items-center justify-between mt-6\">\r\n      <div class=\"text-sm text-gray-700\">\r\n        Affichage de {{ ((currentPage - 1) * pageSize) + 1 }} à {{ Math.min(currentPage * pageSize, totalUsers) }} sur {{ totalUsers }} utilisateurs\r\n      </div>\r\n      <div class=\"flex space-x-2\">\r\n        <button (click)=\"goToPage(currentPage - 1)\" \r\n                [disabled]=\"currentPage === 1\"\r\n                class=\"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          Précédent\r\n        </button>\r\n        <button *ngFor=\"let page of [].constructor(Math.min(5, totalPages)); let i = index\" \r\n                (click)=\"goToPage(i + 1)\"\r\n                [class]=\"(i + 1) === currentPage ? 'btn btn-primary' : 'btn btn-secondary'\"\r\n                class=\"w-10\">\r\n          {{ i + 1 }}\r\n        </button>\r\n        <button (click)=\"goToPage(currentPage + 1)\" \r\n                [disabled]=\"currentPage === totalPages\"\r\n                class=\"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed\">\r\n          Suivant\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal de gestion des rôles -->\r\n<div *ngIf=\"showRoleModal\" class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n  <div class=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\">\r\n    <div class=\"mt-3\">\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h3 class=\"text-lg font-medium text-gray-900\">\r\n          Gérer les rôles de {{ managingRolesUser?.username }}\r\n        </h3>\r\n        <button (click)=\"closeRoleModal()\" class=\"text-gray-400 hover:text-gray-600\">\r\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n     <!-- Rôles actuels -->\r\n<div class=\"mb-4\">\r\n  <h4 class=\"font-medium text-gray-900 mb-2\">Rôles actuels :</h4>\r\n\r\n  <!-- Aucun rôle attribué -->\r\n <ng-container *ngIf=\"managingRolesUser?.roles; else noRoles\">\r\n  <div *ngIf=\"managingRolesUser.roles.length === 0\" class=\"text-gray-500 text-sm\">\r\n    Aucun rôle attribué\r\n  </div>\r\n\r\n  <div *ngFor=\"let role of managingRolesUser.roles\" \r\n       class=\"flex items-center justify-between p-2 bg-gray-50 rounded mb-2\">\r\n    <span class=\"text-sm font-medium\">{{ role.name }}</span>\r\n    <button (click)=\"removeRole(role.id)\" class=\"text-red-600 hover:text-red-800 text-sm\">\r\n      Retirer\r\n    </button>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #noRoles>\r\n  <div class=\"text-gray-500 text-sm\">Aucun rôle attribué</div>\r\n</ng-template>\r\n\r\n      <!-- Rôles disponibles -->\r\n      <div class=\"mb-4\">\r\n        <h4 class=\"font-medium text-gray-900 mb-2\">Rôles disponibles :</h4>\r\n        <div *ngIf=\"managingRolesUser && getAvailableRoles(managingRolesUser).length === 0\" \r\n             class=\"text-gray-500 text-sm\">\r\n          Tous les rôles sont déjà attribués\r\n        </div>\r\n        <div *ngFor=\"let role of managingRolesUser ? getAvailableRoles(managingRolesUser) : []\" \r\n             class=\"flex items-center justify-between p-2 bg-blue-50 rounded mb-2\">\r\n          <div>\r\n            <span class=\"text-sm font-medium\">{{ role.name }}</span>\r\n            <p class=\"text-xs text-gray-600\">{{ role.description }}</p>\r\n          </div>\r\n          <button (click)=\"assignRole(role.id)\" \r\n                  class=\"text-blue-600 hover:text-blue-800 text-sm\">\r\n            Attribuer\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex justify-end\">\r\n        <button (click)=\"closeRoleModal()\" class=\"btn btn-secondary\">\r\n          Fermer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal de réinitialisation de mot de passe -->\r\n<div *ngIf=\"showPasswordResetModal\" class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n  <div class=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\">\r\n    <div class=\"mt-3\">\r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h3 class=\"text-lg font-medium text-gray-900\">\r\n          Réinitialiser le mot de passe de {{ resettingPasswordUser?.username }}\r\n        </h3>\r\n        <button (click)=\"closePasswordResetModal()\" class=\"text-gray-400 hover:text-gray-600\">\r\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <form [formGroup]=\"passwordResetForm\" (ngSubmit)=\"onPasswordResetSubmit()\">\r\n        <div class=\"mb-4\">\r\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Nouveau mot de passe *</label>\r\n          <input type=\"password\" formControlName=\"newPassword\" \r\n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\r\n                 placeholder=\"Minimum 6 caractères\">\r\n          <div *ngIf=\"passwordResetForm.get('newPassword')?.invalid && passwordResetForm.get('newPassword')?.touched\" \r\n               class=\"text-red-500 text-xs mt-1\">\r\n            Mot de passe requis (minimum 6 caractères)\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex justify-end space-x-2\">\r\n          <button type=\"button\" (click)=\"closePasswordResetModal()\" class=\"btn btn-secondary\">\r\n            Annuler\r\n          </button>\r\n          <button type=\"submit\" [disabled]=\"!passwordResetForm.valid\" \r\n                  class=\"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed\">\r\n            Réinitialiser\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,EAAEC,mBAAmB,EAA0BC,UAAU,QAAQ,gBAAgB;;;;;;;;;ICWjGC,EADF,CAAAC,cAAA,cAAoG,cAChF;;IAChBD,EAAA,CAAAC,cAAA,cAA+E;IAC7ED,EAAA,CAAAE,SAAA,eAA4Q;IAC9QF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAI,MAAA,GACF;IACFJ,EADE,CAAAG,YAAA,EAAM,EACF;;;;IAFFH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,MAAAC,MAAA,CAAAC,YAAA,MACF;;;;;IAIAR,EADF,CAAAC,cAAA,cAA4G,cACxF;;IAChBD,EAAA,CAAAC,cAAA,cAAiF;IAC/ED,EAAA,CAAAE,SAAA,eAA0L;IAC5LF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAI,MAAA,GACF;IACFJ,EADE,CAAAG,YAAA,EAAM,EACF;;;;IAFFH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,MAAAC,MAAA,CAAAE,cAAA,MACF;;;;;IAkBMT,EAAA,CAAAC,cAAA,iBAAuD;IAAAD,EAAA,CAAAI,MAAA,GAAe;IAAAJ,EAAA,CAAAG,YAAA,EAAS;;;;IAA5CH,EAAA,CAAAU,UAAA,UAAAC,OAAA,CAAAC,IAAA,CAAmB;IAACZ,EAAA,CAAAK,SAAA,EAAe;IAAfL,EAAA,CAAAa,iBAAA,CAAAF,OAAA,CAAAC,IAAA,CAAe;;;;;IAoCtEZ,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,wDACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAQNH,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,4BACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAQNH,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,kDACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAQNH,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,0CACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAUNH,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,wDACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;;IAOFH,EADF,CAAAC,cAAA,cAA0D,gBAIuB;IADxED,EAAA,CAAAc,UAAA,oBAAAC,uEAAAC,MAAA;MAAA,MAAAC,OAAA,GAAAjB,EAAA,CAAAkB,aAAA,CAAAC,GAAA,EAAAC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAAUf,MAAA,CAAAgB,oBAAA,CAAAP,MAAA,EAAAC,OAAA,CAAAO,EAAA,CAAqC;IAAA,EAAC;IAFvDxB,EAAA,CAAAG,YAAA,EAG+E;IAC/EH,EAAA,CAAAC,cAAA,gBAA0E;IACxED,EAAA,CAAAI,MAAA,GACF;IACFJ,EADE,CAAAG,YAAA,EAAQ,EACJ;;;;IAPmBH,EAAA,CAAAK,SAAA,EAAwB;IACxCL,EADgB,CAAAU,UAAA,iBAAAO,OAAA,CAAAO,EAAA,CAAwB,UAAAP,OAAA,CAAAO,EAAA,CACvB;IAGjBxB,EAAA,CAAAK,SAAA,EAAyB;IAAzBL,EAAA,CAAAU,UAAA,kBAAAO,OAAA,CAAAO,EAAA,CAAyB;IAC9BxB,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAAW,OAAA,CAAAL,IAAA,MACF;;;;;;IAzEVZ,EADF,CAAAC,cAAA,aAA8C,aACK;IAC/CD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAELH,EAAA,CAAAC,cAAA,eAAyD;IAA5BD,EAAA,CAAAc,UAAA,sBAAAW,iEAAA;MAAAzB,EAAA,CAAAkB,aAAA,CAAAQ,GAAA;MAAA,MAAAnB,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAAYf,MAAA,CAAAoB,YAAA,EAAc;IAAA,EAAC;IAGlD3B,EAFJ,CAAAC,cAAA,cAAmD,UAC5C,gBACuD;IAAAD,EAAA,CAAAI,MAAA,0BAAmB;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACrFH,EAAA,CAAAE,SAAA,gBAE8B;IAC9BF,EAAA,CAAA4B,UAAA,IAAAC,6CAAA,kBACuC;IAGzC7B,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,WAAK,iBACuD;IAAAD,EAAA,CAAAI,MAAA,eAAO;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACzEH,EAAA,CAAAE,SAAA,iBAEsC;IACtCF,EAAA,CAAA4B,UAAA,KAAAE,8CAAA,kBACuC;IAGzC9B,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,WAAK,iBACuD;IAAAD,EAAA,CAAAI,MAAA,qBAAQ;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IAC1EH,EAAA,CAAAE,SAAA,iBAE4B;IAC5BF,EAAA,CAAA4B,UAAA,KAAAG,8CAAA,kBACuC;IAGzC/B,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,WAAK,iBACuD;IAAAD,EAAA,CAAAI,MAAA,aAAK;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACvEH,EAAA,CAAAE,SAAA,iBAEyB;IACzBF,EAAA,CAAA4B,UAAA,KAAAI,8CAAA,kBACuC;IAGzChC,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,eAA2B,iBACiC;IACxDD,EAAA,CAAAI,MAAA,IACF;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACRH,EAAA,CAAAE,SAAA,iBAE0C;IAC1CF,EAAA,CAAA4B,UAAA,KAAAK,8CAAA,kBACuC;IAGzCjC,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,eAA2B,iBACiC;IAAAD,EAAA,CAAAI,MAAA,kBAAK;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACvEH,EAAA,CAAAC,cAAA,eAAmD;IACjDD,EAAA,CAAA4B,UAAA,KAAAM,8CAAA,kBAA0D;IAWhElC,EAFI,CAAAG,YAAA,EAAM,EACF,EACF;IAGJH,EADF,CAAAC,cAAA,eAA6B,kBAEqD;IAC9ED,EAAA,CAAAI,MAAA,IACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBAA2E;IAArDD,EAAA,CAAAc,UAAA,mBAAAqB,iEAAA;MAAAnC,EAAA,CAAAkB,aAAA,CAAAQ,GAAA;MAAA,MAAAnB,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA6B,cAAA,EAAgB;IAAA,EAAC;IAC9CpC,EAAA,CAAAI,MAAA,iBACF;IAGNJ,EAHM,CAAAG,YAAA,EAAS,EACL,EACD,EACH;;;;;;;;;IAxFFH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,MAAAC,MAAA,CAAA8B,WAAA,+DACF;IAEMrC,EAAA,CAAAK,SAAA,EAAsB;IAAtBL,EAAA,CAAAU,UAAA,cAAAH,MAAA,CAAA+B,QAAA,CAAsB;IAOhBtC,EAAA,CAAAK,SAAA,GAA4E;IAA5EL,EAAA,CAAAU,UAAA,WAAA6B,OAAA,GAAAhC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAD,OAAA,CAAAE,OAAA,OAAAF,OAAA,GAAAhC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAD,OAAA,CAAAG,OAAA,EAA4E;IAW5E1C,EAAA,CAAAK,SAAA,GAAsE;IAAtEL,EAAA,CAAAU,UAAA,WAAAiC,OAAA,GAAApC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,4BAAAG,OAAA,CAAAF,OAAA,OAAAE,OAAA,GAAApC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,4BAAAG,OAAA,CAAAD,OAAA,EAAsE;IAWtE1C,EAAA,CAAAK,SAAA,GAA8E;IAA9EL,EAAA,CAAAU,UAAA,WAAAkC,OAAA,GAAArC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,gCAAAI,OAAA,CAAAH,OAAA,OAAAG,OAAA,GAAArC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,gCAAAI,OAAA,CAAAF,OAAA,EAA8E;IAW9E1C,EAAA,CAAAK,SAAA,GAA4E;IAA5EL,EAAA,CAAAU,UAAA,WAAAmC,OAAA,GAAAtC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAK,OAAA,CAAAJ,OAAA,OAAAI,OAAA,GAAAtC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAK,OAAA,CAAAH,OAAA,EAA4E;IAQhF1C,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,mBAAAC,MAAA,CAAA8B,WAAA,mDACF;IAIMrC,EAAA,CAAAK,SAAA,GAA4E;IAA5EL,EAAA,CAAAU,UAAA,WAAAoC,OAAA,GAAAvC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAM,OAAA,CAAAL,OAAA,OAAAK,OAAA,GAAAvC,MAAA,CAAA+B,QAAA,CAAAE,GAAA,+BAAAM,OAAA,CAAAJ,OAAA,EAA4E;IAS1D1C,EAAA,CAAAK,SAAA,GAAQ;IAARL,EAAA,CAAAU,UAAA,YAAAH,MAAA,CAAAwC,KAAA,CAAQ;IAcZ/C,EAAA,CAAAK,SAAA,GAA4B;IAA5BL,EAAA,CAAAU,UAAA,cAAAH,MAAA,CAAA+B,QAAA,CAAAU,KAAA,CAA4B;IAEhDhD,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAAC,MAAA,CAAA8B,WAAA,4CACF;;;;;IAmBJrC,EAAA,CAAAC,cAAA,cAA2D;IACzDD,EAAA,CAAAE,SAAA,cAA4F;IAC5FF,EAAA,CAAAC,cAAA,YAAgB;IAAAD,EAAA,CAAAI,MAAA,qCAA8B;IAChDJ,EADgD,CAAAG,YAAA,EAAI,EAC9C;;;;;IAENH,EAAA,CAAAC,cAAA,cAAmF;;IACjFD,EAAA,CAAAC,cAAA,cAAwG;IACtGD,EAAA,CAAAE,SAAA,eAAyU;IAC3UF,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAI,MAAA,qCAAyB;IAC9BJ,EAD8B,CAAAG,YAAA,EAAI,EAC5B;;;;;IA6BIH,EAAA,CAAAC,cAAA,cAA+D;IAAAD,EAAA,CAAAI,MAAA,+BAAS;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAC9EH,EAAA,CAAAC,cAAA,cAA8D;IAAAD,EAAA,CAAAI,MAAA,mCAAa;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAI/EH,EAAA,CAAAC,cAAA,eAK4C;IAC1CD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAO;;;;IALDH,EAAA,CAAAiD,UAAA,CAAAC,OAAA,CAAAtC,IAAA,2CAAAsC,OAAA,CAAAtC,IAAA,0CAAAsC,OAAA,CAAAtC,IAAA,6EAGqC;IACzCZ,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAA4C,OAAA,CAAAtC,IAAA,MACF;;;;;IACAZ,EAAA,CAAAC,cAAA,eAAoE;IAAAD,EAAA,CAAAI,MAAA,sBAAU;IAAAJ,EAAA,CAAAG,YAAA,EAAO;;;;;;IAxBrFH,EAHN,CAAAC,cAAA,aAAwD,aACd,cACP,cAC6E;IACxGD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;IAEJH,EADF,CAAAC,cAAA,UAAK,cAC4C;IAAAD,EAAA,CAAAI,MAAA,GAAwC;IAAAJ,EAAA,CAAAG,YAAA,EAAM;IAC7FH,EAAA,CAAAC,cAAA,cAAmC;IAAAD,EAAA,CAAAI,MAAA,GAAmB;IAG5DJ,EAH4D,CAAAG,YAAA,EAAM,EACxD,EACF,EACH;IAEHH,EADF,CAAAC,cAAA,cAA8D,WACvD;IAAAD,EAAA,CAAAI,MAAA,IAAgB;IAAAJ,EAAA,CAAAG,YAAA,EAAM;IAE3BH,EADA,CAAA4B,UAAA,KAAAuB,oDAAA,kBAA+D,KAAAC,oDAAA,kBACD;IAChEpD,EAAA,CAAAG,YAAA,EAAK;IAEHH,EADF,CAAAC,cAAA,cAAwC,eACJ;IAShCD,EARA,CAAA4B,UAAA,KAAAyB,qDAAA,mBAK4C,KAAAC,qDAAA,mBAGwB;IAExEtD,EADE,CAAAG,YAAA,EAAM,EACH;IAEHH,EADF,CAAAC,cAAA,cAAwC,gBAEgD;IACpFD,EAAA,CAAAI,MAAA,IACF;IACFJ,EADE,CAAAG,YAAA,EAAO,EACJ;IACLH,EAAA,CAAAC,cAAA,cAA8D;IAC5DD,EAAA,CAAAI,MAAA,IACF;;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAGDH,EAFJ,CAAAC,cAAA,cAA4D,eAC9B,kBAEuD;IADzED,EAAA,CAAAc,UAAA,mBAAAyC,uEAAA;MAAA,MAAAC,OAAA,GAAAxD,EAAA,CAAAkB,aAAA,CAAAuC,GAAA,EAAArC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAmD,QAAA,CAAAF,OAAA,CAAc;IAAA,EAAC;IAE9BxD,EAAA,CAAAI,MAAA,kBACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBACqF;IAD7ED,EAAA,CAAAc,UAAA,mBAAA6C,uEAAA;MAAA,MAAAH,OAAA,GAAAxD,EAAA,CAAAkB,aAAA,CAAAuC,GAAA,EAAArC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAqD,kBAAA,CAAAJ,OAAA,CAAwB;IAAA,EAAC;IAExCxD,EAAA,CAAAI,MAAA,oBACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBACqF;IAD7ED,EAAA,CAAAc,UAAA,mBAAA+C,uEAAA;MAAA,MAAAL,OAAA,GAAAxD,EAAA,CAAAkB,aAAA,CAAAuC,GAAA,EAAArC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAuD,iBAAA,CAAAN,OAAA,CAAuB;IAAA,EAAC;IAEvCxD,EAAA,CAAAI,MAAA,mBACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBAE+C;IAFvCD,EAAA,CAAAc,UAAA,mBAAAiD,uEAAA;MAAA,MAAAP,OAAA,GAAAxD,EAAA,CAAAkB,aAAA,CAAAuC,GAAA,EAAArC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAyD,gBAAA,CAAAR,OAAA,CAAsB;IAAA,EAAC;IAGtCxD,EAAA,CAAAI,MAAA,IACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBAE+C;IAFvCD,EAAA,CAAAc,UAAA,mBAAAmD,uEAAA;MAAA,MAAAT,OAAA,GAAAxD,EAAA,CAAAkB,aAAA,CAAAuC,GAAA,EAAArC,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA2D,UAAA,CAAAV,OAAA,EAAiB,KAAK,CAAC;IAAA,EAAC;IAGvCxD,EAAA,CAAAI,MAAA,mBACF;IAGNJ,EAHM,CAAAG,YAAA,EAAS,EACL,EACH,EACF;;;;;IA7DGH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAmE,kBAAA,MAAAX,OAAA,CAAAY,SAAA,CAAAC,MAAA,IAAAC,WAAA,QAAAd,OAAA,CAAAe,QAAA,CAAAF,MAAA,IAAAC,WAAA,QACF;IAEiDtE,EAAA,CAAAK,SAAA,GAAwC;IAAxCL,EAAA,CAAAmE,kBAAA,KAAAX,OAAA,CAAAY,SAAA,OAAAZ,OAAA,CAAAe,QAAA,KAAwC;IACpDvE,EAAA,CAAAK,SAAA,GAAmB;IAAnBL,EAAA,CAAAa,iBAAA,CAAA2C,OAAA,CAAAgB,QAAA,CAAmB;IAKrDxE,EAAA,CAAAK,SAAA,GAAgB;IAAhBL,EAAA,CAAAa,iBAAA,CAAA2C,OAAA,CAAAiB,KAAA,CAAgB;IACfzE,EAAA,CAAAK,SAAA,EAAwB;IAAxBL,EAAA,CAAAU,UAAA,SAAA8C,OAAA,CAAAkB,aAAA,CAAwB;IACxB1E,EAAA,CAAAK,SAAA,EAAyB;IAAzBL,EAAA,CAAAU,UAAA,UAAA8C,OAAA,CAAAkB,aAAA,CAAyB;IAIN1E,EAAA,CAAAK,SAAA,GAAa;IAAbL,EAAA,CAAAU,UAAA,YAAA8C,OAAA,CAAAT,KAAA,CAAa;IAQ7B/C,EAAA,CAAAK,SAAA,EAA6B;IAA7BL,EAAA,CAAAU,UAAA,SAAA8C,OAAA,CAAAT,KAAA,CAAA4B,MAAA,OAA6B;IAIhC3E,EAAA,CAAAK,SAAA,GAAmF;IAAnFL,EAAA,CAAAiD,UAAA,CAAAO,OAAA,CAAAoB,QAAA,6DAAmF;IAEvF5E,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAAkD,OAAA,CAAAoB,QAAA,4BACF;IAGA5E,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,MAAAkD,OAAA,CAAAqB,SAAA,GAAA7E,EAAA,CAAA8E,WAAA,SAAAtB,OAAA,CAAAqB,SAAA,sCACF;IAgBY7E,EAAA,CAAAK,SAAA,IAAyG;IAAzGL,EAAA,CAAAiD,UAAA,CAAAO,OAAA,CAAAoB,QAAA,mFAAyG;IAE/G5E,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAAkD,OAAA,CAAAoB,QAAA,sCACF;IAGQ5E,EAAA,CAAAK,SAAA,EAAsC;IAAtCL,EAAA,CAAAU,UAAA,aAAA8C,OAAA,CAAAhC,EAAA,KAAAjB,MAAA,CAAAwE,aAAA,CAAsC;;;;;IArElD/E,EAJR,CAAAC,cAAA,cAAkE,gBAC3B,gBACT,SACpB,aACyF;IAAAD,EAAA,CAAAI,MAAA,kBAAW;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAC3GH,EAAA,CAAAC,cAAA,aAA2F;IAAAD,EAAA,CAAAI,MAAA,YAAK;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IACrGH,EAAA,CAAAC,cAAA,aAA2F;IAAAD,EAAA,CAAAI,MAAA,iBAAK;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IACrGH,EAAA,CAAAC,cAAA,cAA2F;IAAAD,EAAA,CAAAI,MAAA,cAAM;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IACtGH,EAAA,CAAAC,cAAA,cAA2F;IAAAD,EAAA,CAAAI,MAAA,+BAAkB;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAClHH,EAAA,CAAAC,cAAA,cAA2F;IAAAD,EAAA,CAAAI,MAAA,eAAO;IAEtGJ,EAFsG,CAAAG,YAAA,EAAK,EACpG,EACC;IACRH,EAAA,CAAAC,cAAA,iBAAiD;IAC/CD,EAAA,CAAA4B,UAAA,KAAAoD,6CAAA,mBAAwD;IAoE9DhF,EAFI,CAAAG,YAAA,EAAQ,EACF,EACJ;;;;IApEqBH,EAAA,CAAAK,SAAA,IAAQ;IAARL,EAAA,CAAAU,UAAA,YAAAH,MAAA,CAAA0E,KAAA,CAAQ;;;;;;IAiF/BjF,EAAA,CAAAC,cAAA,iBAGqB;IAFbD,EAAA,CAAAc,UAAA,mBAAAoE,yEAAA;MAAA,MAAAC,KAAA,GAAAnF,EAAA,CAAAkB,aAAA,CAAAkE,IAAA,EAAAC,KAAA;MAAA,MAAA9E,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA+E,QAAA,CAAAH,KAAA,GAAa,CAAC,CAAC;IAAA,EAAC;IAG/BnF,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;;;;;IAHDH,EAAA,CAAAiD,UAAA,CAAAkC,KAAA,SAAA5E,MAAA,CAAAgF,WAAA,2CAA2E;IAEjFvF,EAAA,CAAAK,SAAA,EACF;IADEL,EAAA,CAAAM,kBAAA,MAAA6E,KAAA,UACF;;;;;;IAdFnF,EADF,CAAAC,cAAA,cAA2E,cACtC;IACjCD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;IAEJH,EADF,CAAAC,cAAA,cAA4B,iBAGwD;IAF1ED,EAAA,CAAAc,UAAA,mBAAA0E,gEAAA;MAAAxF,EAAA,CAAAkB,aAAA,CAAAuE,GAAA;MAAA,MAAAlF,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA+E,QAAA,CAAA/E,MAAA,CAAAgF,WAAA,GAAuB,CAAC,CAAC;IAAA,EAAC;IAGzCvF,EAAA,CAAAI,MAAA,4BACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAA4B,UAAA,IAAA8D,gDAAA,qBAGqB;IAGrB1F,EAAA,CAAAC,cAAA,iBAEkF;IAF1ED,EAAA,CAAAc,UAAA,mBAAA6E,gEAAA;MAAA3F,EAAA,CAAAkB,aAAA,CAAAuE,GAAA;MAAA,MAAAlF,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA+E,QAAA,CAAA/E,MAAA,CAAAgF,WAAA,GAAuB,CAAC,CAAC;IAAA,EAAC;IAGzCvF,EAAA,CAAAI,MAAA,gBACF;IAEJJ,EAFI,CAAAG,YAAA,EAAS,EACL,EACF;;;;IApBFH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAA4F,kBAAA,oBAAArF,MAAA,CAAAgF,WAAA,QAAAhF,MAAA,CAAAsF,QAAA,kBAAAtF,MAAA,CAAAuF,IAAA,CAAAC,GAAA,CAAAxF,MAAA,CAAAgF,WAAA,GAAAhF,MAAA,CAAAsF,QAAA,EAAAtF,MAAA,CAAAyF,UAAA,YAAAzF,MAAA,CAAAyF,UAAA,mBACF;IAGUhG,EAAA,CAAAK,SAAA,GAA8B;IAA9BL,EAAA,CAAAU,UAAA,aAAAH,MAAA,CAAAgF,WAAA,OAA8B;IAIbvF,EAAA,CAAAK,SAAA,GAA4C;IAA5CL,EAAA,CAAAU,UAAA,YAAAV,EAAA,CAAAiG,eAAA,IAAAC,GAAA,EAAAC,WAAA,CAAA5F,MAAA,CAAAuF,IAAA,CAAAC,GAAA,IAAAxF,MAAA,CAAA6F,UAAA,GAA4C;IAO7DpG,EAAA,CAAAK,SAAA,EAAuC;IAAvCL,EAAA,CAAAU,UAAA,aAAAH,MAAA,CAAAgF,WAAA,KAAAhF,MAAA,CAAA6F,UAAA,CAAuC;;;;;IA8BrDpG,EAAA,CAAAC,cAAA,eAAgF;IAC9ED,EAAA,CAAAI,MAAA,sCACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;;IAIJH,EAFF,CAAAC,cAAA,eAC2E,gBACvC;IAAAD,EAAA,CAAAI,MAAA,GAAe;IAAAJ,EAAA,CAAAG,YAAA,EAAO;IACxDH,EAAA,CAAAC,cAAA,kBAAsF;IAA9ED,EAAA,CAAAc,UAAA,mBAAAuF,sFAAA;MAAA,MAAAC,QAAA,GAAAtG,EAAA,CAAAkB,aAAA,CAAAqF,IAAA,EAAAnF,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAiG,UAAA,CAAAF,QAAA,CAAA9E,EAAA,CAAmB;IAAA,EAAC;IACnCxB,EAAA,CAAAI,MAAA,gBACF;IACFJ,EADE,CAAAG,YAAA,EAAS,EACL;;;;IAJ8BH,EAAA,CAAAK,SAAA,GAAe;IAAfL,EAAA,CAAAa,iBAAA,CAAAyF,QAAA,CAAA1F,IAAA,CAAe;;;;;IAPpDZ,EAAA,CAAAyG,uBAAA,GAA6D;IAK5DzG,EAJA,CAAA4B,UAAA,IAAA8E,6DAAA,mBAAgF,IAAAC,6DAAA,mBAKL;;;;;IALrE3G,EAAA,CAAAK,SAAA,EAA0C;IAA1CL,EAAA,CAAAU,UAAA,SAAAH,MAAA,CAAAqG,iBAAA,CAAA7D,KAAA,CAAA4B,MAAA,OAA0C;IAI1B3E,EAAA,CAAAK,SAAA,EAA0B;IAA1BL,EAAA,CAAAU,UAAA,YAAAH,MAAA,CAAAqG,iBAAA,CAAA7D,KAAA,CAA0B;;;;;IAUhD/C,EAAA,CAAAC,cAAA,eAAmC;IAAAD,EAAA,CAAAI,MAAA,oCAAmB;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;IAMtDH,EAAA,CAAAC,cAAA,eACmC;IACjCD,EAAA,CAAAI,MAAA,+DACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;;IAIFH,EAHJ,CAAAC,cAAA,eAC2E,UACpE,gBAC+B;IAAAD,EAAA,CAAAI,MAAA,GAAe;IAAAJ,EAAA,CAAAG,YAAA,EAAO;IACxDH,EAAA,CAAAC,cAAA,aAAiC;IAAAD,EAAA,CAAAI,MAAA,GAAsB;IACzDJ,EADyD,CAAAG,YAAA,EAAI,EACvD;IACNH,EAAA,CAAAC,cAAA,kBAC0D;IADlDD,EAAA,CAAAc,UAAA,mBAAA+F,uEAAA;MAAA,MAAAC,QAAA,GAAA9G,EAAA,CAAAkB,aAAA,CAAA6F,IAAA,EAAA3F,SAAA;MAAA,MAAAb,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAyG,UAAA,CAAAF,QAAA,CAAAtF,EAAA,CAAmB;IAAA,EAAC;IAEnCxB,EAAA,CAAAI,MAAA,kBACF;IACFJ,EADE,CAAAG,YAAA,EAAS,EACL;;;;IAPgCH,EAAA,CAAAK,SAAA,GAAe;IAAfL,EAAA,CAAAa,iBAAA,CAAAiG,QAAA,CAAAlG,IAAA,CAAe;IAChBZ,EAAA,CAAAK,SAAA,GAAsB;IAAtBL,EAAA,CAAAa,iBAAA,CAAAiG,QAAA,CAAAG,WAAA,CAAsB;;;;;IAuCzDjH,EAAA,CAAAC,cAAA,cACuC;IACrCD,EAAA,CAAAI,MAAA,wDACF;IAAAJ,EAAA,CAAAG,YAAA,EAAM;;;;;;IAnBRH,EAJR,CAAAC,cAAA,cAAuH,eACvB,eAC1E,cACoC,cACJ;IAC5CD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IACLH,EAAA,CAAAC,cAAA,kBAAsF;IAA9ED,EAAA,CAAAc,UAAA,mBAAAoG,uEAAA;MAAAlH,EAAA,CAAAkB,aAAA,CAAAiG,IAAA;MAAA,MAAA5G,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA6G,uBAAA,EAAyB;IAAA,EAAC;;IACzCpH,EAAA,CAAAC,cAAA,eAA2E;IACzED,EAAA,CAAAE,SAAA,eAAsG;IAG5GF,EAFI,CAAAG,YAAA,EAAM,EACC,EACL;;IAENH,EAAA,CAAAC,cAAA,eAA2E;IAArCD,EAAA,CAAAc,UAAA,sBAAAuG,wEAAA;MAAArH,EAAA,CAAAkB,aAAA,CAAAiG,IAAA;MAAA,MAAA5G,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAAYf,MAAA,CAAA+G,qBAAA,EAAuB;IAAA,EAAC;IAEtEtH,EADF,CAAAC,cAAA,gBAAkB,iBAC0C;IAAAD,EAAA,CAAAI,MAAA,8BAAsB;IAAAJ,EAAA,CAAAG,YAAA,EAAQ;IACxFH,EAAA,CAAAE,SAAA,kBAE0C;IAC1CF,EAAA,CAAA4B,UAAA,KAAA2F,qDAAA,kBACuC;IAGzCvH,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,gBAAwC,kBAC8C;IAA9DD,EAAA,CAAAc,UAAA,mBAAA0G,wEAAA;MAAAxH,EAAA,CAAAkB,aAAA,CAAAiG,IAAA;MAAA,MAAA5G,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAA6G,uBAAA,EAAyB;IAAA,EAAC;IACvDpH,EAAA,CAAAI,MAAA,iBACF;IAAAJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBACgF;IAC9ED,EAAA,CAAAI,MAAA,4BACF;IAKVJ,EALU,CAAAG,YAAA,EAAS,EACL,EACD,EACH,EACF,EACF;;;;;IAjCIH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,4CAAAC,MAAA,CAAAkH,qBAAA,kBAAAlH,MAAA,CAAAkH,qBAAA,CAAAjD,QAAA,MACF;IAQIxE,EAAA,CAAAK,SAAA,GAA+B;IAA/BL,EAAA,CAAAU,UAAA,cAAAH,MAAA,CAAAmH,iBAAA,CAA+B;IAM3B1H,EAAA,CAAAK,SAAA,GAAoG;IAApGL,EAAA,CAAAU,UAAA,WAAAkC,OAAA,GAAArC,MAAA,CAAAmH,iBAAA,CAAAlF,GAAA,kCAAAI,OAAA,CAAAH,OAAA,OAAAG,OAAA,GAAArC,MAAA,CAAAmH,iBAAA,CAAAlF,GAAA,kCAAAI,OAAA,CAAAF,OAAA,EAAoG;IAUpF1C,EAAA,CAAAK,SAAA,GAAqC;IAArCL,EAAA,CAAAU,UAAA,cAAAH,MAAA,CAAAmH,iBAAA,CAAA1E,KAAA,CAAqC;;;;;;IA7F7DhD,EAJR,CAAAC,cAAA,cAA8G,eACd,eAC1E,cACoC,cACJ;IAC5CD,EAAA,CAAAI,MAAA,GACF;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IACLH,EAAA,CAAAC,cAAA,kBAA6E;IAArED,EAAA,CAAAc,UAAA,mBAAA6G,gEAAA;MAAA3H,EAAA,CAAAkB,aAAA,CAAA0G,IAAA;MAAA,MAAArH,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAsH,cAAA,EAAgB;IAAA,EAAC;;IAChC7H,EAAA,CAAAC,cAAA,eAA2E;IACzED,EAAA,CAAAE,SAAA,eAAsG;IAG5GF,EAFI,CAAAG,YAAA,EAAM,EACC,EACL;;IAIVH,EADF,CAAAC,cAAA,eAAkB,eAC2B;IAAAD,EAAA,CAAAI,MAAA,4BAAe;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAiBjEH,EAdC,CAAA4B,UAAA,KAAAkG,uDAAA,4BAA6D,KAAAC,sDAAA,gCAAA/H,EAAA,CAAAgI,sBAAA,CAcxC;IAMdhI,EADF,CAAAC,cAAA,gBAAkB,eAC2B;IAAAD,EAAA,CAAAI,MAAA,gCAAmB;IAAAJ,EAAA,CAAAG,YAAA,EAAK;IAKnEH,EAJA,CAAA4B,UAAA,KAAAqG,8CAAA,mBACmC,KAAAC,8CAAA,mBAIwC;IAU7ElI,EAAA,CAAAG,YAAA,EAAM;IAGJH,EADF,CAAAC,cAAA,gBAA8B,mBACiC;IAArDD,EAAA,CAAAc,UAAA,mBAAAqH,iEAAA;MAAAnI,EAAA,CAAAkB,aAAA,CAAA0G,IAAA;MAAA,MAAArH,MAAA,GAAAP,EAAA,CAAAqB,aAAA;MAAA,OAAArB,EAAA,CAAAsB,WAAA,CAASf,MAAA,CAAAsH,cAAA,EAAgB;IAAA,EAAC;IAChC7H,EAAA,CAAAI,MAAA,gBACF;IAIRJ,EAJQ,CAAAG,YAAA,EAAS,EACL,EACF,EACF,EACF;IAGNH,EAAA,CAAA4B,UAAA,KAAAwG,8CAAA,mBAAuH;IAnEvHpI,EAAA,CAAAG,YAAA,EAA8G;;;;;IAKpGH,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAM,kBAAA,mCAAAC,MAAA,CAAAqG,iBAAA,kBAAArG,MAAA,CAAAqG,iBAAA,CAAApC,QAAA,MACF;IAaQxE,EAAA,CAAAK,SAAA,GAAgC;IAAAL,EAAhC,CAAAU,UAAA,SAAAH,MAAA,CAAAqG,iBAAA,kBAAArG,MAAA,CAAAqG,iBAAA,CAAA7D,KAAA,CAAgC,aAAAsF,WAAA,CAAY;IAqB9CrI,EAAA,CAAAK,SAAA,GAA4E;IAA5EL,EAAA,CAAAU,UAAA,SAAAH,MAAA,CAAAqG,iBAAA,IAAArG,MAAA,CAAA+H,iBAAA,CAAA/H,MAAA,CAAAqG,iBAAA,EAAAjC,MAAA,OAA4E;IAI5D3E,EAAA,CAAAK,SAAA,EAAgE;IAAhEL,EAAA,CAAAU,UAAA,YAAAH,MAAA,CAAAqG,iBAAA,GAAArG,MAAA,CAAA+H,iBAAA,CAAA/H,MAAA,CAAAqG,iBAAA,IAAA5G,EAAA,CAAAiG,eAAA,IAAAC,GAAA,EAAgE;IAuBxFlG,EAAA,CAAAK,SAAA,GAA4B;IAA5BL,EAAA,CAAAU,UAAA,SAAAH,MAAA,CAAAgI,sBAAA,CAA4B;;;AD5VlC,OAAM,MAAOC,uBAAuB;EAiClCrC,YACUsC,qBAA4C,EAC5CC,WAAwB,EACxBC,WAAwB;IAFxB,KAAAF,qBAAqB,GAArBA,qBAAqB;IACrB,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IAnCrB,KAAA1D,KAAK,GAAqB,EAAE;IAC5B,KAAAlC,KAAK,GAAW,EAAE;IAElB;IACA,KAAAwC,WAAW,GAAW,CAAC;IACvB,KAAAa,UAAU,GAAW,CAAC;IACtB,KAAAJ,UAAU,GAAW,CAAC;IACtB,KAAAH,QAAQ,GAAW,EAAE;IAErB;IACA,KAAA+C,WAAW,GAAW,EAAE;IACxB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,cAAc,GAAW,EAAE;IAM3B;IACA,KAAAC,OAAO,GAAY,KAAK;IACxB,KAAAC,cAAc,GAAY,KAAK;IAC/B,KAAA3G,WAAW,GAA0B,IAAI;IACzC,KAAAkG,sBAAsB,GAAY,KAAK;IACvC,KAAAd,qBAAqB,GAA0B,IAAI;IACnD,KAAAwB,aAAa,GAAY,KAAK;IAC9B,KAAArC,iBAAiB,GAA0B,IAAI;IAE/C;IACA,KAAApG,YAAY,GAAkB,IAAI;IAClC,KAAAC,cAAc,GAAkB,IAAI;IAQlC,IAAI,CAAC6B,QAAQ,GAAG,IAAI,CAACqG,WAAW,CAACO,KAAK,CAAC;MACrC1E,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACzE,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,EAAErJ,UAAU,CAACsJ,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACxFjF,SAAS,EAAE,CAAC,EAAE,EAAE,CAACrE,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,EAAErJ,UAAU,CAACsJ,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACzF9E,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACxE,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,EAAErJ,UAAU,CAACsJ,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACxF5E,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC1E,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAAC0E,KAAK,CAAC,CAAC;MACpD6E,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACvJ,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9DG,OAAO,EAAE,CAAC,EAAE;KACb,CAAC;IAEF,IAAI,CAAC7B,iBAAiB,GAAG,IAAI,CAACiB,WAAW,CAACO,KAAK,CAAC;MAC9CM,WAAW,EAAE,CAAC,EAAE,EAAE,CAACzJ,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,CAAC;KACjE,CAAC;EACJ;EAEAK,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;IAChB,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAD,SAASA,CAAA;IACP,IAAI,CAACX,OAAO,GAAG,IAAI;IACnB,IAAI,CAACvI,YAAY,GAAG,IAAI;IAExB,MAAMoE,QAAQ,GAAG,IAAI,CAACkE,cAAc,KAAK,QAAQ,GAAG,IAAI,GACxC,IAAI,CAACA,cAAc,KAAK,UAAU,GAAG,KAAK,GAAGc,SAAS;IAEtE,IAAI,CAACnB,qBAAqB,CAACoB,QAAQ,CACjC,IAAI,CAACtE,WAAW,EAChB,IAAI,CAACM,QAAQ,EACb,IAAI,CAAC+C,WAAW,IAAIgB,SAAS,EAC7B,IAAI,CAACf,YAAY,IAAIe,SAAS,EAC9BhF,QAAQ,CACT,CAACkF,SAAS,CAAC;MACVC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAAC/E,KAAK,GAAG+E,QAAQ,CAAC/E,KAAK;QAC3B,IAAI,CAACe,UAAU,GAAGgE,QAAQ,CAACC,UAAU,CAACC,KAAK;QAC3C,IAAI,CAAC9D,UAAU,GAAG4D,QAAQ,CAACC,UAAU,CAAC7D,UAAU;QAChD,IAAI,CAAC2C,OAAO,GAAG,KAAK;MACtB,CAAC;MACDoB,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,sBAAsB,EAAEC,GAAG,CAAC;QAC1C,IAAI,CAAC5J,YAAY,GAAG,4CAA4C;QAChE,IAAI,CAACuI,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAEAY,SAASA,CAAA;IACP,IAAI,CAAClB,qBAAqB,CAAC6B,QAAQ,EAAE,CAACR,SAAS,CAAC;MAC9CC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACjH,KAAK,GAAGiH,QAAQ,CAACjH,KAAK;MAC7B,CAAC;MACDoH,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,sBAAsB,EAAEC,GAAG,CAAC;MAC5C;KACD,CAAC;EACJ;EAEAG,QAAQA,CAAA;IACN,IAAI,CAAChF,WAAW,GAAG,CAAC;IACpB,IAAI,CAACmE,SAAS,EAAE;EAClB;EAEAc,cAAcA,CAAA;IACZ,IAAI,CAACjF,WAAW,GAAG,CAAC;IACpB,IAAI,CAACmE,SAAS,EAAE;EAClB;EAEAe,YAAYA,CAAA;IACV,IAAI,CAAC7B,WAAW,GAAG,EAAE;IACrB,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACvD,WAAW,GAAG,CAAC;IACpB,IAAI,CAACmE,SAAS,EAAE;EAClB;EAEA;EACApE,QAAQA,CAACoF,IAAY;IACnB,IAAIA,IAAI,IAAI,CAAC,IAAIA,IAAI,IAAI,IAAI,CAACtE,UAAU,EAAE;MACxC,IAAI,CAACb,WAAW,GAAGmF,IAAI;MACvB,IAAI,CAAChB,SAAS,EAAE;IAClB;EACF;EAEA;EACAiB,kBAAkBA,CAAA;IAChB,IAAI,CAAC3B,cAAc,GAAG,IAAI;IAC1B,IAAI,CAAC3G,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,QAAQ,CAACsI,KAAK,EAAE;IACrB,IAAI,CAACtI,QAAQ,CAACE,GAAG,CAAC,UAAU,CAAC,EAAEqI,aAAa,CAAC,CAAC9K,UAAU,CAACoJ,QAAQ,EAAEpJ,UAAU,CAACqJ,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5F,IAAI,CAAC0B,aAAa,EAAE;EACtB;EAEApH,QAAQA,CAACqH,IAAoB;IAC3B,IAAI,CAAC1I,WAAW,GAAG0I,IAAI;IACvB,IAAI,CAAC/B,cAAc,GAAG,IAAI;IAC1B,IAAI,CAAC1G,QAAQ,CAAC0I,UAAU,CAAC;MACvBxG,QAAQ,EAAEuG,IAAI,CAACvG,QAAQ;MACvBJ,SAAS,EAAE2G,IAAI,CAAC3G,SAAS;MACzBG,QAAQ,EAAEwG,IAAI,CAACxG,QAAQ;MACvBE,KAAK,EAAEsG,IAAI,CAACtG,KAAK;MACjB8E,OAAO,EAAEwB,IAAI,CAAChI,KAAK,CAACkI,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC1J,EAAE;KACxC,CAAC;IACF;IACA,IAAI,CAACc,QAAQ,CAACE,GAAG,CAAC,UAAU,CAAC,EAAE2I,eAAe,EAAE;IAChD,IAAI,CAAC7I,QAAQ,CAACE,GAAG,CAAC,UAAU,CAAC,EAAE4I,sBAAsB,EAAE;IACvD,IAAI,CAACN,aAAa,EAAE;EACtB;EAEAnJ,YAAYA,CAAA;IACV,IAAI,IAAI,CAACW,QAAQ,CAACU,KAAK,EAAE;MACvB,MAAMqI,QAAQ,GAAG,IAAI,CAAC/I,QAAQ,CAACgJ,KAAK;MAEpC,IAAI,IAAI,CAACjJ,WAAW,EAAE;QACpB;QACA,MAAMkJ,UAAU,GAAsB;UACpC/G,QAAQ,EAAE6G,QAAQ,CAAC7G,QAAQ;UAC3BJ,SAAS,EAAEiH,QAAQ,CAACjH,SAAS;UAC7BG,QAAQ,EAAE8G,QAAQ,CAAC9G,QAAQ;UAC3BE,KAAK,EAAE4G,QAAQ,CAAC5G;SACjB;QAED,IAAI4G,QAAQ,CAAC/B,QAAQ,EAAE;UACrBiC,UAAU,CAACjC,QAAQ,GAAG+B,QAAQ,CAAC/B,QAAQ;QACzC;QAEA,IAAI,CAACb,qBAAqB,CAAC+C,UAAU,CAAC,IAAI,CAACnJ,WAAW,CAACb,EAAE,EAAE+J,UAAU,CAAC,CAACzB,SAAS,CAAC;UAC/EC,IAAI,EAAGC,QAAQ,IAAI;YACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;YACtC,IAAI,CAAC/B,SAAS,EAAE;YAChB,IAAI,CAACtH,cAAc,EAAE;UACvB,CAAC;UACD+H,KAAK,EAAGC,GAAG,IAAI;YACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,+BAA+B;UAC3E;SACD,CAAC;MACJ,CAAC,MAAM;QACL;QACA,MAAMC,UAAU,GAAsB;UACpClH,QAAQ,EAAE6G,QAAQ,CAAC7G,QAAQ;UAC3BJ,SAAS,EAAEiH,QAAQ,CAACjH,SAAS;UAC7BG,QAAQ,EAAE8G,QAAQ,CAAC9G,QAAQ;UAC3BE,KAAK,EAAE4G,QAAQ,CAAC5G,KAAK;UACrB6E,QAAQ,EAAE+B,QAAQ,CAAC/B,QAAQ;UAC3BC,OAAO,EAAE8B,QAAQ,CAAC9B;SACnB;QAED,IAAI,CAACd,qBAAqB,CAACkD,UAAU,CAACD,UAAU,CAAC,CAAC5B,SAAS,CAAC;UAC1DC,IAAI,EAAGC,QAAQ,IAAI;YACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;YACtC,IAAI,CAAC/B,SAAS,EAAE;YAChB,IAAI,CAACtH,cAAc,EAAE;UACvB,CAAC;UACD+H,KAAK,EAAGC,GAAG,IAAI;YACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,4BAA4B;UACxE;SACD,CAAC;MACJ;IACF;EACF;EAEArJ,cAAcA,CAAA;IACZ,IAAI,CAAC4G,cAAc,GAAG,KAAK;IAC3B,IAAI,CAAC3G,WAAW,GAAG,IAAI;IACvB,IAAI,CAACC,QAAQ,CAACsI,KAAK,EAAE;IACrB,IAAI,CAACE,aAAa,EAAE;EACtB;EAEA5G,UAAUA,CAAC6G,IAAoB,EAAEa,SAAA,GAAqB,KAAK;IACzD,MAAMC,MAAM,GAAGD,SAAS,GAAG,0BAA0B,GAAG,YAAY;IACpE,MAAME,cAAc,GAAG,4BAA4BD,MAAM,mBAAmBd,IAAI,CAACvG,QAAQ,KAAK;IAE9F,IAAIuH,MAAM,CAACC,OAAO,CAACF,cAAc,CAAC,EAAE;MAClC,IAAI,CAACrD,qBAAqB,CAACvE,UAAU,CAAC6G,IAAI,CAACvJ,EAAE,EAAE,CAACoK,SAAS,CAAC,CAAC9B,SAAS,CAAC;QACnEC,IAAI,EAAGC,QAAQ,IAAI;UACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;UACtC,IAAI,CAAC/B,SAAS,EAAE;QAClB,CAAC;QACDS,KAAK,EAAGC,GAAG,IAAI;UACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,qBAAqBI,MAAM,EAAE;QACzE;OACD,CAAC;IACJ;EACF;EAEA7H,gBAAgBA,CAAC+G,IAAoB;IACnC,MAAMc,MAAM,GAAGd,IAAI,CAACnG,QAAQ,GAAG,YAAY,GAAG,SAAS;IAEvD,IAAImH,MAAM,CAACC,OAAO,CAAC,4BAA4BH,MAAM,mBAAmBd,IAAI,CAACvG,QAAQ,KAAK,CAAC,EAAE;MAC3F,IAAI,CAACiE,qBAAqB,CAACzE,gBAAgB,CAAC+G,IAAI,CAACvJ,EAAE,CAAC,CAACsI,SAAS,CAAC;QAC7DC,IAAI,EAAGC,QAAQ,IAAI;UACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;UACtC,IAAI,CAAC/B,SAAS,EAAE;QAClB,CAAC;QACDS,KAAK,EAAGC,GAAG,IAAI;UACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,oBAAoBI,MAAM,EAAE;QACxE;OACD,CAAC;IACJ;EACF;EAEA;EACAjI,kBAAkBA,CAACmH,IAAoB;IACrC,IAAI,CAACnE,iBAAiB,GAAGmE,IAAI;IAC7B,IAAI,CAAC9B,aAAa,GAAG,IAAI;IACzB,IAAI,CAAC6B,aAAa,EAAE;EACtB;EAEA9D,UAAUA,CAACiF,MAAc;IACvB,IAAI,CAAC,IAAI,CAACrF,iBAAiB,EAAE;IAE7B,IAAI,CAAC6B,qBAAqB,CAACzB,UAAU,CAAC;MACpCkF,MAAM,EAAE,IAAI,CAACtF,iBAAiB,CAACpF,EAAE;MACjCyK,MAAM,EAAEA;KACT,CAAC,CAACnC,SAAS,CAAC;MACXC,IAAI,EAAGC,QAAQ,IAAI;QACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;QACtC,IAAI,CAAC/B,SAAS,EAAE;QAChB,IAAI,CAAC7B,cAAc,EAAE;MACvB,CAAC;MACDsC,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,uCAAuC;MACnF;KACD,CAAC;EACJ;EAEAjF,UAAUA,CAACyF,MAAc;IACvB,IAAI,CAAC,IAAI,CAACrF,iBAAiB,EAAE;IAE7B,MAAMsE,IAAI,GAAG,IAAI,CAACnI,KAAK,CAACoJ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC5K,EAAE,KAAKyK,MAAM,CAAC;IAClD,IAAIF,MAAM,CAACC,OAAO,CAAC,oBAAoBd,IAAI,EAAEtK,IAAI,QAAQ,IAAI,CAACgG,iBAAiB,CAACpC,QAAQ,IAAI,CAAC,EAAE;MAC7F,IAAI,CAACiE,qBAAqB,CAACjC,UAAU,CAAC;QACpC0F,MAAM,EAAE,IAAI,CAACtF,iBAAiB,CAACpF,EAAE;QACjCyK,MAAM,EAAEA;OACT,CAAC,CAACnC,SAAS,CAAC;QACXC,IAAI,EAAGC,QAAQ,IAAI;UACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;UACtC,IAAI,CAAC/B,SAAS,EAAE;UAChB,IAAI,CAAC7B,cAAc,EAAE;QACvB,CAAC;QACDsC,KAAK,EAAGC,GAAG,IAAI;UACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,gCAAgC;QAC5E;OACD,CAAC;IACJ;EACF;EAEA5D,cAAcA,CAAA;IACZ,IAAI,CAACoB,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACrC,iBAAiB,GAAG,IAAI;EAC/B;EAEA;EACA9C,iBAAiBA,CAACiH,IAAoB;IACpC,IAAI,CAACtD,qBAAqB,GAAGsD,IAAI;IACjC,IAAI,CAACxC,sBAAsB,GAAG,IAAI;IAClC,IAAI,CAACb,iBAAiB,CAACkD,KAAK,EAAE;IAC9B,IAAI,CAACE,aAAa,EAAE;EACtB;EAEAxD,qBAAqBA,CAAA;IACnB,IAAI,IAAI,CAACI,iBAAiB,CAAC1E,KAAK,IAAI,IAAI,CAACyE,qBAAqB,EAAE;MAC9D,MAAM+B,WAAW,GAAG,IAAI,CAAC9B,iBAAiB,CAAC4D,KAAK,CAAC9B,WAAW;MAE5D,IAAI,CAACf,qBAAqB,CAAC4D,kBAAkB,CAAC,IAAI,CAAC5E,qBAAqB,CAACjG,EAAE,EAAEgI,WAAW,CAAC,CAACM,SAAS,CAAC;QAClGC,IAAI,EAAGC,QAAQ,IAAI;UACjB,IAAI,CAACvJ,cAAc,GAAGuJ,QAAQ,CAACyB,OAAO;UACtC,IAAI,CAACrE,uBAAuB,EAAE;QAChC,CAAC;QACD+C,KAAK,EAAGC,GAAG,IAAI;UACb,IAAI,CAAC5J,YAAY,GAAG4J,GAAG,CAACD,KAAK,EAAEsB,OAAO,IAAI,oCAAoC;QAChF;OACD,CAAC;IACJ;EACF;EAEArE,uBAAuBA,CAAA;IACrB,IAAI,CAACmB,sBAAsB,GAAG,KAAK;IACnC,IAAI,CAACd,qBAAqB,GAAG,IAAI;IACjC,IAAI,CAACC,iBAAiB,CAACkD,KAAK,EAAE;EAChC;EAEA;EACA0B,gBAAgBA,CAACvB,IAAoB;IACnC,OAAOA,IAAI,CAAChI,KAAK,CAACkI,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACtK,IAAI,CAAC,CAAC2L,IAAI,CAAC,IAAI,CAAC,IAAI,YAAY;EACrE;EAEAC,OAAOA,CAACzB,IAAoB,EAAE0B,QAAgB;IAC5C,OAAO1B,IAAI,CAAChI,KAAK,CAAC2J,IAAI,CAACxB,IAAI,IAAIA,IAAI,CAACtK,IAAI,KAAK6L,QAAQ,CAAC;EACxD;EAEAnE,iBAAiBA,CAACyC,IAAoB;IACpC,MAAM4B,WAAW,GAAG5B,IAAI,CAAChI,KAAK,CAACkI,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC1J,EAAE,CAAC;IACnD,OAAO,IAAI,CAACuB,KAAK,CAAC6J,MAAM,CAAC1B,IAAI,IAAI,CAACyB,WAAW,CAACE,QAAQ,CAAC3B,IAAI,CAAC1J,EAAE,CAAC,IAAI0J,IAAI,CAAC4B,SAAS,CAAC;EACpF;EAEAvL,oBAAoBA,CAACwL,KAAU,EAAEd,MAAc;IAC7C,MAAM1C,OAAO,GAAG,IAAI,CAACjH,QAAQ,CAACE,GAAG,CAAC,SAAS,CAAC,EAAE8I,KAAK,IAAI,EAAE;IAEzD,IAAIyB,KAAK,CAACC,MAAM,CAACC,OAAO,EAAE;MACxB,IAAI,CAAC1D,OAAO,CAACsD,QAAQ,CAACZ,MAAM,CAAC,EAAE;QAC7B1C,OAAO,CAAC2D,IAAI,CAACjB,MAAM,CAAC;MACtB;IACF,CAAC,MAAM;MACL,MAAM5G,KAAK,GAAGkE,OAAO,CAAC4D,OAAO,CAAClB,MAAM,CAAC;MACrC,IAAI5G,KAAK,GAAG,CAAC,CAAC,EAAE;QACdkE,OAAO,CAAC6D,MAAM,CAAC/H,KAAK,EAAE,CAAC,CAAC;MAC1B;IACF;IAEA,IAAI,CAAC/C,QAAQ,CAAC0I,UAAU,CAAC;MAAEzB;IAAO,CAAE,CAAC;EACvC;EAEAuB,aAAaA,CAAA;IACX,IAAI,CAACtK,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,cAAc,GAAG,IAAI;EAC5B;EAEA;EACA,IAAI4M,cAAcA,CAAA;IAChB,OAAO,IAAI,CAAC3E,WAAW,CAAC4E,OAAO;EACjC;EAEA,IAAIvI,aAAaA,CAAA;IACf,OAAO,IAAI,CAAC2D,WAAW,CAAC6E,WAAW,EAAE/L,EAAE,IAAI,IAAI;EACjD;EACAgM,WAAWA,CAAA;IACX,OAAO1H,IAAI,CAACC,GAAG,CAAC,IAAI,CAACR,WAAW,GAAG,IAAI,CAACM,QAAQ,EAAE,IAAI,CAACG,UAAU,CAAC;EACpE;;;uCA9WawC,uBAAuB,EAAAxI,EAAA,CAAAyN,iBAAA,CAAAC,EAAA,CAAAC,qBAAA,GAAA3N,EAAA,CAAAyN,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAA7N,EAAA,CAAAyN,iBAAA,CAAAK,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAAvBvF,uBAAuB;MAAAwF,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,iCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZhCtO,EAFJ,CAAAC,cAAA,aAAiB,aACqC,YACN;UAAAD,EAAA,CAAAI,MAAA,4CAA2B;UAAAJ,EAAA,CAAAG,YAAA,EAAK;UAC5EH,EAAA,CAAAC,cAAA,gBAA+D;UAAvDD,EAAA,CAAAc,UAAA,mBAAA0N,yDAAA;YAAA,OAASD,GAAA,CAAA5D,kBAAA,EAAoB;UAAA,EAAC;;UACpC3K,EAAA,CAAAC,cAAA,aAAgF;UAC9ED,EAAA,CAAAE,SAAA,cAA4G;UAC9GF,EAAA,CAAAG,YAAA,EAAM;UACNH,EAAA,CAAAI,MAAA,kCACF;UACFJ,EADE,CAAAG,YAAA,EAAS,EACL;UAYNH,EATA,CAAA4B,UAAA,IAAA6M,sCAAA,iBAAoG,IAAAC,sCAAA,iBASQ;;UAW1G1O,EADF,CAAAC,cAAA,cAAuB,cAC4B;UAAAD,EAAA,CAAAI,MAAA,yCAAuB;UAAAJ,EAAA,CAAAG,YAAA,EAAK;UAGzEH,EAFJ,CAAAC,cAAA,eAAmD,WAC5C,iBACuD;UAAAD,EAAA,CAAAI,MAAA,iBAAS;UAAAJ,EAAA,CAAAG,YAAA,EAAQ;UAC3EH,EAAA,CAAAC,cAAA,iBAEqG;UAFlFD,EAAA,CAAA2O,gBAAA,2BAAAC,iEAAA5N,MAAA;YAAAhB,EAAA,CAAA6O,kBAAA,CAAAN,GAAA,CAAA3F,WAAA,EAAA5H,MAAA,MAAAuN,GAAA,CAAA3F,WAAA,GAAA5H,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAyB;UAAChB,EAAA,CAAAc,UAAA,mBAAAgO,yDAAA;YAAA,OAASP,GAAA,CAAAhE,QAAA,EAAU;UAAA,EAAC;UAGnEvK,EAHE,CAAAG,YAAA,EAEqG,EACjG;UAEJH,EADF,CAAAC,cAAA,WAAK,iBACuD;UAAAD,EAAA,CAAAI,MAAA,iBAAI;UAAAJ,EAAA,CAAAG,YAAA,EAAQ;UACtEH,EAAA,CAAAC,cAAA,kBACsG;UAD9FD,EAAA,CAAA2O,gBAAA,2BAAAI,kEAAA/N,MAAA;YAAAhB,EAAA,CAAA6O,kBAAA,CAAAN,GAAA,CAAA1F,YAAA,EAAA7H,MAAA,MAAAuN,GAAA,CAAA1F,YAAA,GAAA7H,MAAA;YAAA,OAAAA,MAAA;UAAA,EAA0B;UAAChB,EAAA,CAAAc,UAAA,oBAAAkO,2DAAA;YAAA,OAAUT,GAAA,CAAA/D,cAAA,EAAgB;UAAA,EAAC;UAE5DxK,EAAA,CAAAC,cAAA,kBAAiB;UAAAD,EAAA,CAAAI,MAAA,2BAAc;UAAAJ,EAAA,CAAAG,YAAA,EAAS;UACxCH,EAAA,CAAA4B,UAAA,KAAAqN,0CAAA,qBAAuD;UAE3DjP,EADE,CAAAG,YAAA,EAAS,EACL;UAEJH,EADF,CAAAC,cAAA,WAAK,iBACuD;UAAAD,EAAA,CAAAI,MAAA,cAAM;UAAAJ,EAAA,CAAAG,YAAA,EAAQ;UACxEH,EAAA,CAAAC,cAAA,kBACsG;UAD9FD,EAAA,CAAA2O,gBAAA,2BAAAO,kEAAAlO,MAAA;YAAAhB,EAAA,CAAA6O,kBAAA,CAAAN,GAAA,CAAAzF,cAAA,EAAA9H,MAAA,MAAAuN,GAAA,CAAAzF,cAAA,GAAA9H,MAAA;YAAA,OAAAA,MAAA;UAAA,EAA4B;UAAChB,EAAA,CAAAc,UAAA,oBAAAqO,2DAAA;YAAA,OAAUZ,GAAA,CAAA/D,cAAA,EAAgB;UAAA,EAAC;UAE9DxK,EAAA,CAAAC,cAAA,kBAAiB;UAAAD,EAAA,CAAAI,MAAA,wBAAgB;UAAAJ,EAAA,CAAAG,YAAA,EAAS;UAC1CH,EAAA,CAAAC,cAAA,kBAAuB;UAAAD,EAAA,CAAAI,MAAA,cAAM;UAAAJ,EAAA,CAAAG,YAAA,EAAS;UACtCH,EAAA,CAAAC,cAAA,kBAAyB;UAAAD,EAAA,CAAAI,MAAA,gBAAQ;UAErCJ,EAFqC,CAAAG,YAAA,EAAS,EACnC,EACL;UAEJH,EADF,CAAAC,cAAA,eAA4B,kBACwC;UAA1DD,EAAA,CAAAc,UAAA,mBAAAsO,0DAAA;YAAA,OAASb,GAAA,CAAA9D,YAAA,EAAc;UAAA,EAAC;;UAC9BzK,EAAA,CAAAC,cAAA,eAAgF;UAC9ED,EAAA,CAAAE,SAAA,gBAAsG;UACxGF,EAAA,CAAAG,YAAA,EAAM;UACNH,EAAA,CAAAI,MAAA,iBACF;UAGNJ,EAHM,CAAAG,YAAA,EAAS,EACL,EACF,EACF;UAGNH,EAAA,CAAA4B,UAAA,KAAAyN,uCAAA,oBAA8C;;UA+F1CrP,EAFJ,CAAAC,cAAA,eAAkB,eACoC,cACN;UAC1CD,EAAA,CAAAI,MAAA,IACF;UAAAJ,EAAA,CAAAG,YAAA,EAAK;UACLH,EAAA,CAAAC,cAAA,eAAmC;UACjCD,EAAA,CAAAI,MAAA,IACF;UACFJ,EADE,CAAAG,YAAA,EAAM,EACF;UAkGNH,EAhGA,CAAA4B,UAAA,KAAA0N,uCAAA,kBAA2D,KAAAC,uCAAA,kBAKwB,KAAAC,uCAAA,mBAOjB,KAAAC,uCAAA,kBAoFS;UAwB/EzP,EADE,CAAAG,YAAA,EAAM,EACF;UAGNH,EAAA,CAAA4B,UAAA,KAAA8N,uCAAA,mBAA8G;;;UA3RtG1P,EAAA,CAAAK,SAAA,GAAkB;UAAlBL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAA/N,YAAA,CAAkB;UASlBR,EAAA,CAAAK,SAAA,EAAoB;UAApBL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAA9N,cAAA,CAAoB;UAeDT,EAAA,CAAAK,SAAA,GAAyB;UAAzBL,EAAA,CAAA2P,gBAAA,YAAApB,GAAA,CAAA3F,WAAA,CAAyB;UAMpC5I,EAAA,CAAAK,SAAA,GAA0B;UAA1BL,EAAA,CAAA2P,gBAAA,YAAApB,GAAA,CAAA1F,YAAA,CAA0B;UAGP7I,EAAA,CAAAK,SAAA,GAAQ;UAARL,EAAA,CAAAU,UAAA,YAAA6N,GAAA,CAAAxL,KAAA,CAAQ;UAK3B/C,EAAA,CAAAK,SAAA,GAA4B;UAA5BL,EAAA,CAAA2P,gBAAA,YAAApB,GAAA,CAAAzF,cAAA,CAA4B;UAmBpC9I,EAAA,CAAAK,SAAA,IAAoB;UAApBL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAAvF,cAAA,CAAoB;UAgGpBhJ,EAAA,CAAAK,SAAA,GACF;UADEL,EAAA,CAAAM,kBAAA,oBAAAiO,GAAA,CAAAvI,UAAA,OACF;UAEEhG,EAAA,CAAAK,SAAA,GACF;UADEL,EAAA,CAAAmE,kBAAA,WAAAoK,GAAA,CAAAhJ,WAAA,WAAAgJ,GAAA,CAAAnI,UAAA,MACF;UAGIpG,EAAA,CAAAK,SAAA,EAAa;UAAbL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAAxF,OAAA,CAAa;UAKb/I,EAAA,CAAAK,SAAA,EAAoC;UAApCL,EAAA,CAAAU,UAAA,UAAA6N,GAAA,CAAAxF,OAAA,IAAAwF,GAAA,CAAAtJ,KAAA,CAAAN,MAAA,OAAoC;UAOpC3E,EAAA,CAAAK,SAAA,EAAkC;UAAlCL,EAAA,CAAAU,UAAA,UAAA6N,GAAA,CAAAxF,OAAA,IAAAwF,GAAA,CAAAtJ,KAAA,CAAAN,MAAA,KAAkC;UAoFlC3E,EAAA,CAAAK,SAAA,EAAoB;UAApBL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAAnI,UAAA,KAAoB;UA2BxBpG,EAAA,CAAAK,SAAA,EAAmB;UAAnBL,EAAA,CAAAU,UAAA,SAAA6N,GAAA,CAAAtF,aAAA,CAAmB;;;qBD7RbrJ,YAAY,EAAAgQ,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA,EAAAF,EAAA,CAAAG,QAAA,EAAElQ,WAAW,EAAAiO,EAAA,CAAAkC,aAAA,EAAAlC,EAAA,CAAAmC,cAAA,EAAAnC,EAAA,CAAAoC,uBAAA,EAAApC,EAAA,CAAAqC,oBAAA,EAAArC,EAAA,CAAAsC,0BAAA,EAAAtC,EAAA,CAAAuC,eAAA,EAAAvC,EAAA,CAAAwC,oBAAA,EAAAxC,EAAA,CAAAyC,OAAA,EAAEzQ,mBAAmB,EAAAgO,EAAA,CAAA0C,kBAAA,EAAA1C,EAAA,CAAA2C,eAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}