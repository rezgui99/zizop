{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/job-description.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"bg-green-100 text-green-800\": a0,\n  \"bg-red-100 text-red-800\": a1,\n  \"bg-yellow-100 text-yellow-800\": a2\n});\nconst _c1 = a0 => [\"/job-descriptions\", a0];\nconst _c2 = () => [\"/matching\"];\nconst _c3 = a0 => ({\n  jobId: a0\n});\nfunction JobDescriptionsComponent_div_6_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \" L'emploi est requis (minimum 3 caract\\u00E8res) \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_6_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \" La fili\\u00E8re d'activit\\u00E9 est requise \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_6_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1, \" La famille est requise \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h3\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 23);\n    i0.ɵɵlistener(\"ngSubmit\", function JobDescriptionsComponent_div_6_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(4, \"div\", 24)(5, \"div\")(6, \"label\", 8);\n    i0.ɵɵtext(7, \"Emploi *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 25);\n    i0.ɵɵtemplate(9, JobDescriptionsComponent_div_6_div_9_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\")(11, \"label\", 8);\n    i0.ɵɵtext(12, \"Fili\\u00E8re d'activit\\u00E9 *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 27);\n    i0.ɵɵtemplate(14, JobDescriptionsComponent_div_6_div_14_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 8);\n    i0.ɵɵtext(17, \"Famille *\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 28);\n    i0.ɵɵtemplate(19, JobDescriptionsComponent_div_6_div_19_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\")(21, \"label\", 8);\n    i0.ɵɵtext(22, \"Niveau d'exigence\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"select\", 29)(24, \"option\", 11);\n    i0.ɵɵtext(25, \"S\\u00E9lectionner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"option\", 30);\n    i0.ɵɵtext(27, \"Junior\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"option\", 31);\n    i0.ɵɵtext(29, \"Confirm\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"option\", 32);\n    i0.ɵɵtext(31, \"Senior\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"option\", 33);\n    i0.ɵɵtext(33, \"Expert\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(34, \"div\")(35, \"label\", 8);\n    i0.ɵɵtext(36, \"Niveau d'exp\\u00E9rience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"select\", 34)(38, \"option\", 11);\n    i0.ɵɵtext(39, \"S\\u00E9lectionner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"option\", 35);\n    i0.ɵɵtext(41, \"0-2 ans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"option\", 36);\n    i0.ɵɵtext(43, \"2-5 ans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"option\", 37);\n    i0.ɵɵtext(45, \"5-10 ans\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"option\", 38);\n    i0.ɵɵtext(47, \"10+ ans\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"div\")(49, \"label\", 8);\n    i0.ɵɵtext(50, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"select\", 39)(52, \"option\", 40);\n    i0.ɵɵtext(53, \"Actif\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"option\", 41);\n    i0.ɵɵtext(55, \"Inactif\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"option\", 42);\n    i0.ɵɵtext(57, \"Brouillon\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(58, \"div\", 43)(59, \"label\", 8);\n    i0.ɵɵtext(60, \"Finalit\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(61, \"textarea\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"div\", 45)(63, \"button\", 46);\n    i0.ɵɵtext(64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function JobDescriptionsComponent_div_6_Template_button_click_65_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cancelEdit());\n    });\n    i0.ɵɵtext(66, \" Annuler \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.editingJobDescription ? \"Modifier la fiche de poste\" : \"Nouvelle fiche de poste\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.jobDescriptionForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r1.jobDescriptionForm.get(\"emploi\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r1.jobDescriptionForm.get(\"emploi\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r1.jobDescriptionForm.get(\"filiere_activite\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r1.jobDescriptionForm.get(\"filiere_activite\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r1.jobDescriptionForm.get(\"famille\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r1.jobDescriptionForm.get(\"famille\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(44);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.jobDescriptionForm.valid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.editingJobDescription ? \"Mettre \\u00E0 jour\" : \"Cr\\u00E9er\", \" \");\n  }\n}\nfunction JobDescriptionsComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const filiere_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", filiere_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(filiere_r3);\n  }\n}\nfunction JobDescriptionsComponent_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const famille_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", famille_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(famille_r4);\n  }\n}\nfunction JobDescriptionsComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Chargement des fiches de poste... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_37_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Aucune fiche de poste trouv\\u00E9e. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_37_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Aucune fiche de poste ne correspond aux crit\\u00E8res de recherche. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobDescriptionsComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtemplate(1, JobDescriptionsComponent_div_37_div_1_Template, 2, 0, \"div\", 52)(2, JobDescriptionsComponent_div_37_div_2_Template, 2, 0, \"div\", 52);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.jobDescriptions.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.jobDescriptions.length > 0);\n  }\n}\nfunction JobDescriptionsComponent_div_38_tr_17_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const job_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(job_r6.finalite);\n  }\n}\nfunction JobDescriptionsComponent_div_38_tr_17_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const job_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(job_r6.niveau_exigence);\n  }\n}\nfunction JobDescriptionsComponent_div_38_tr_17_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const job_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(job_r6.niveau_exp);\n  }\n}\nfunction JobDescriptionsComponent_div_38_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 59)(1, \"td\", 60)(2, \"div\", 61);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, JobDescriptionsComponent_div_38_tr_17_div_4_Template, 2, 1, \"div\", 62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 63);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 63);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 63);\n    i0.ɵɵtemplate(10, JobDescriptionsComponent_div_38_tr_17_div_10_Template, 2, 1, \"div\", 52)(11, JobDescriptionsComponent_div_38_tr_17_div_11_Template, 2, 1, \"div\", 64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 60)(13, \"span\", 65);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\", 66)(16, \"div\", 67)(17, \"button\", 68);\n    i0.ɵɵtext(18, \" Voir \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function JobDescriptionsComponent_div_38_tr_17_Template_button_click_19_listener() {\n      const job_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editJobDescription(job_r6));\n    });\n    i0.ɵɵtext(20, \" Modifier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 70);\n    i0.ɵɵtext(22, \" Matching \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function JobDescriptionsComponent_div_38_tr_17_Template_button_click_23_listener() {\n      const job_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.deleteJobDescription(job_r6));\n    });\n    i0.ɵɵtext(24, \" Supprimer \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const job_r6 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(job_r6.emploi);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", job_r6.finalite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(job_r6.filiere_activite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(job_r6.famille);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", job_r6.niveau_exigence);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", job_r6.niveau_exp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(11, _c0, job_r6.status === \"Actif\", job_r6.status === \"Inactif\", job_r6.status === \"Brouillon\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", job_r6.status || \"Actif\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c1, job_r6.id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c2))(\"queryParams\", i0.ɵɵpureFunction1(18, _c3, job_r6.id));\n  }\n}\nfunction JobDescriptionsComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"table\", 54)(2, \"thead\", 55)(3, \"tr\")(4, \"th\", 56);\n    i0.ɵɵtext(5, \"Emploi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 56);\n    i0.ɵɵtext(7, \"Fili\\u00E8re\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 56);\n    i0.ɵɵtext(9, \"Famille\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 56);\n    i0.ɵɵtext(11, \"Niveau\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 56);\n    i0.ɵɵtext(13, \"Statut\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 56);\n    i0.ɵɵtext(15, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\", 57);\n    i0.ɵɵtemplate(17, JobDescriptionsComponent_div_38_tr_17_Template, 25, 20, \"tr\", 58);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredJobDescriptions);\n  }\n}\nfunction JobDescriptionsComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage, \" \");\n  }\n}\nexport class JobDescriptionsComponent {\n  constructor(jobDescriptionService, formBuilder) {\n    this.jobDescriptionService = jobDescriptionService;\n    this.formBuilder = formBuilder;\n    this.jobDescriptions = [];\n    this.filteredJobDescriptions = [];\n    this.showAddForm = false;\n    this.editingJobDescription = null;\n    this.loading = false;\n    this.errorMessage = null;\n    this.searchQuery = '';\n    this.selectedFiliere = '';\n    this.selectedFamille = '';\n    // Filter options\n    this.filiereOptions = [];\n    this.familleOptions = [];\n    this.jobDescriptionForm = this.formBuilder.group({\n      emploi: ['', [Validators.required, Validators.minLength(3)]],\n      filiere_activite: ['', Validators.required],\n      famille: ['', Validators.required],\n      superieur_n1: [''],\n      superieur_n2: [''],\n      finalite: [''],\n      niveau_exigence: [''],\n      niveau_exp: [''],\n      status: ['Actif'],\n      version: ['1.0']\n    });\n  }\n  ngOnInit() {\n    this.loadJobDescriptions();\n  }\n  loadJobDescriptions() {\n    this.loading = true;\n    this.errorMessage = null;\n    this.jobDescriptionService.getJobDescriptions().subscribe({\n      next: jobDescriptions => {\n        this.jobDescriptions = jobDescriptions;\n        this.filteredJobDescriptions = [...jobDescriptions];\n        this.extractFilterOptions();\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error loading job descriptions:', err);\n        this.errorMessage = 'Erreur lors du chargement des fiches de poste.';\n        this.loading = false;\n      }\n    });\n  }\n  extractFilterOptions() {\n    const filieres = new Set();\n    const familles = new Set();\n    this.jobDescriptions.forEach(job => {\n      if (job.filiere_activite) filieres.add(job.filiere_activite);\n      if (job.famille) familles.add(job.famille);\n    });\n    this.filiereOptions = Array.from(filieres).sort();\n    this.familleOptions = Array.from(familles).sort();\n  }\n  applyFilters() {\n    this.filteredJobDescriptions = this.jobDescriptions.filter(job => {\n      const matchesSearch = !this.searchQuery || job.emploi.toLowerCase().includes(this.searchQuery.toLowerCase()) || job.filiere_activite.toLowerCase().includes(this.searchQuery.toLowerCase()) || job.famille.toLowerCase().includes(this.searchQuery.toLowerCase());\n      const matchesFiliere = !this.selectedFiliere || job.filiere_activite === this.selectedFiliere;\n      const matchesFamille = !this.selectedFamille || job.famille === this.selectedFamille;\n      return matchesSearch && matchesFiliere && matchesFamille;\n    });\n  }\n  onSearchChange() {\n    this.applyFilters();\n  }\n  onFilterChange() {\n    this.applyFilters();\n  }\n  clearFilters() {\n    this.searchQuery = '';\n    this.selectedFiliere = '';\n    this.selectedFamille = '';\n    this.filteredJobDescriptions = [...this.jobDescriptions];\n  }\n  onSubmit() {\n    if (this.jobDescriptionForm.valid) {\n      const formValue = this.jobDescriptionForm.value;\n      // Nettoyer les données avant envoi\n      const jobDescriptionData = {\n        emploi: formValue.emploi?.trim(),\n        filiere_activite: formValue.filiere_activite?.trim(),\n        famille: formValue.famille?.trim(),\n        superieur_n1: formValue.superieur_n1 && formValue.superieur_n1 !== '' ? parseInt(formValue.superieur_n1, 10) : null,\n        superieur_n2: formValue.superieur_n2 && formValue.superieur_n2 !== '' ? parseInt(formValue.superieur_n2, 10) : null,\n        finalite: formValue.finalite?.trim() || null,\n        niveau_exigence: formValue.niveau_exigence || null,\n        niveau_exp: formValue.niveau_exp || null,\n        status: formValue.status || 'Actif',\n        version: formValue.version || '1.0'\n      };\n      // Supprimer les propriétés undefined ou vides\n      Object.keys(jobDescriptionData).forEach(key => {\n        if (jobDescriptionData[key] === undefined || jobDescriptionData[key] === '') {\n          if (key === 'superieur_n1' || key === 'superieur_n2' || key === 'finalite') {\n            jobDescriptionData[key] = null;\n          }\n        }\n      });\n      if (this.editingJobDescription) {\n        this.jobDescriptionService.updateJobDescription(this.editingJobDescription.id, jobDescriptionData).subscribe({\n          next: updatedJobDescription => {\n            const index = this.jobDescriptions.findIndex(job => job.id === updatedJobDescription.id);\n            if (index !== -1) {\n              this.jobDescriptions[index] = updatedJobDescription;\n            }\n            this.applyFilters();\n            this.cancelEdit();\n            this.errorMessage = null;\n          },\n          error: err => {\n            console.error('Error updating job description:', err);\n            this.errorMessage = `Erreur lors de la mise à jour de la fiche de poste: ${err.error?.message || err.message}`;\n          }\n        });\n      } else {\n        this.jobDescriptionService.createJobDescription(jobDescriptionData).subscribe({\n          next: newJobDescription => {\n            this.jobDescriptions.push(newJobDescription);\n            this.applyFilters();\n            this.extractFilterOptions();\n            this.cancelEdit();\n            this.errorMessage = null;\n          },\n          error: err => {\n            console.error('Error creating job description:', err);\n            this.errorMessage = `Erreur lors de la création de la fiche de poste: ${err.error?.message || err.message}`;\n          }\n        });\n      }\n    }\n  }\n  editJobDescription(jobDescription) {\n    this.editingJobDescription = jobDescription;\n    this.showAddForm = false;\n    this.jobDescriptionForm.patchValue({\n      emploi: jobDescription.emploi,\n      filiere_activite: jobDescription.filiere_activite,\n      famille: jobDescription.famille,\n      superieur_n1: jobDescription.superieur_n1 || null,\n      superieur_n2: jobDescription.superieur_n2 || null,\n      finalite: jobDescription.finalite || '',\n      niveau_exigence: jobDescription.niveau_exigence || '',\n      niveau_exp: jobDescription.niveau_exp || '',\n      status: jobDescription.status || 'Actif',\n      version: jobDescription.version || '1.0'\n    });\n  }\n  deleteJobDescription(jobDescription) {\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer la fiche \"${jobDescription.emploi}\" ?`)) {\n      this.jobDescriptionService.deleteJobDescription(jobDescription.id).subscribe({\n        next: () => {\n          this.jobDescriptions = this.jobDescriptions.filter(job => job.id !== jobDescription.id);\n          this.applyFilters();\n          this.extractFilterOptions();\n          this.errorMessage = null;\n        },\n        error: err => {\n          console.error('Error deleting job description:', err);\n          this.errorMessage = 'Erreur lors de la suppression de la fiche de poste.';\n        }\n      });\n    }\n  }\n  cancelEdit() {\n    this.editingJobDescription = null;\n    this.showAddForm = false;\n    this.jobDescriptionForm.reset({\n      status: 'Actif',\n      version: '1.0'\n    });\n  }\n  static {\n    this.ɵfac = function JobDescriptionsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || JobDescriptionsComponent)(i0.ɵɵdirectiveInject(i1.JobDescriptionService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: JobDescriptionsComponent,\n      selectors: [[\"app-job-descriptions\"]],\n      decls: 40,\n      vars: 12,\n      consts: [[1, \"p-6\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-3xl\", \"font-bold\", \"text-primary\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"card mb-6\", 4, \"ngIf\"], [1, \"card\", \"mb-6\"], [1, \"text-lg\", \"font-semibold\", \"text-dark\", \"mb-4\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-4\", \"gap-4\"], [1, \"block\", \"text-gray-700\", \"text-sm\", \"font-bold\", \"mb-2\"], [\"type\", \"text\", \"placeholder\", \"Rechercher par emploi, fili\\u00E8re...\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-end\"], [1, \"btn\", \"btn-secondary\", \"w-full\", 3, \"click\"], [1, \"card\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\", \"text-dark\"], [\"class\", \"text-center text-primary py-8\", 4, \"ngIf\"], [\"class\", \"text-center text-gray-600 py-8\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto\", 4, \"ngIf\"], [\"class\", \"mt-4 p-3 bg-red-100 text-red-700 rounded-md\", 4, \"ngIf\"], [1, \"text-xl\", \"font-semibold\", \"text-dark\", \"mb-4\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"type\", \"text\", \"formControlName\", \"emploi\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"class\", \"text-red-500 text-sm mt-1\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"filiere_activite\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"type\", \"text\", \"formControlName\", \"famille\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"formControlName\", \"niveau_exigence\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"value\", \"Junior\"], [\"value\", \"Confirm\\u00E9\"], [\"value\", \"Senior\"], [\"value\", \"Expert\"], [\"formControlName\", \"niveau_exp\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"value\", \"0-2 ans\"], [\"value\", \"2-5 ans\"], [\"value\", \"5-10 ans\"], [\"value\", \"10+ ans\"], [\"formControlName\", \"status\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [\"value\", \"Actif\"], [\"value\", \"Inactif\"], [\"value\", \"Brouillon\"], [1, \"mt-4\"], [\"formControlName\", \"finalite\", \"rows\", \"3\", \"placeholder\", \"D\\u00E9crivez la finalit\\u00E9 du poste...\", 1, \"w-full\", \"px-3\", \"py-2\", \"border\", \"rounded-md\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-primary\"], [1, \"mt-6\", \"flex\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"text-red-500\", \"text-sm\", \"mt-1\"], [3, \"value\"], [1, \"text-center\", \"text-primary\", \"py-8\"], [1, \"text-center\", \"text-gray-600\", \"py-8\"], [4, \"ngIf\"], [1, \"overflow-x-auto\"], [1, \"min-w-full\", \"table-auto\"], [1, \"bg-gray-50\"], [1, \"px-6\", \"py-3\", \"text-left\", \"text-xs\", \"font-medium\", \"text-gray-500\", \"uppercase\", \"tracking-wider\"], [1, \"bg-white\", \"divide-y\", \"divide-gray-200\"], [\"class\", \"hover:bg-gray-50\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover:bg-gray-50\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\"], [\"class\", \"text-sm text-gray-500 truncate max-w-xs\", 4, \"ngIf\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"text-gray-500\"], [\"class\", \"text-xs text-gray-400\", 4, \"ngIf\"], [1, \"inline-flex\", \"px-2\", \"py-1\", \"text-xs\", \"font-semibold\", \"rounded-full\", 3, \"ngClass\"], [1, \"px-6\", \"py-4\", \"whitespace-nowrap\", \"text-sm\", \"font-medium\"], [1, \"flex\", \"space-x-2\"], [1, \"text-primary\", \"hover:text-blue-700\", 3, \"routerLink\"], [1, \"text-primary\", \"hover:text-blue-700\", 3, \"click\"], [1, \"text-green-600\", \"hover:text-green-900\", 3, \"routerLink\", \"queryParams\"], [1, \"text-red-600\", \"hover:text-red-900\", 3, \"click\"], [1, \"text-sm\", \"text-gray-500\", \"truncate\", \"max-w-xs\"], [1, \"text-xs\", \"text-gray-400\"], [1, \"mt-4\", \"p-3\", \"bg-red-100\", \"text-red-700\", \"rounded-md\"]],\n      template: function JobDescriptionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \"Fiches de Poste\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function JobDescriptionsComponent_Template_button_click_4_listener() {\n            return ctx.showAddForm = !ctx.showAddForm;\n          });\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, JobDescriptionsComponent_div_6_Template, 67, 7, \"div\", 4);\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"h3\", 6);\n          i0.ɵɵtext(9, \"Filtres et recherche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\")(12, \"label\", 8);\n          i0.ɵɵtext(13, \"Recherche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function JobDescriptionsComponent_Template_input_ngModelChange_14_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchQuery, $event) || (ctx.searchQuery = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"input\", function JobDescriptionsComponent_Template_input_input_14_listener() {\n            return ctx.onSearchChange();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\")(16, \"label\", 8);\n          i0.ɵɵtext(17, \"Fili\\u00E8re\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"select\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function JobDescriptionsComponent_Template_select_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedFiliere, $event) || (ctx.selectedFiliere = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function JobDescriptionsComponent_Template_select_change_18_listener() {\n            return ctx.onFilterChange();\n          });\n          i0.ɵɵelementStart(19, \"option\", 11);\n          i0.ɵɵtext(20, \"Toutes les fili\\u00E8res\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, JobDescriptionsComponent_option_21_Template, 2, 2, \"option\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\")(23, \"label\", 8);\n          i0.ɵɵtext(24, \"Famille\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"select\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function JobDescriptionsComponent_Template_select_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedFamille, $event) || (ctx.selectedFamille = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"change\", function JobDescriptionsComponent_Template_select_change_25_listener() {\n            return ctx.onFilterChange();\n          });\n          i0.ɵɵelementStart(26, \"option\", 11);\n          i0.ɵɵtext(27, \"Toutes les familles\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, JobDescriptionsComponent_option_28_Template, 2, 2, \"option\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 13)(30, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function JobDescriptionsComponent_Template_button_click_30_listener() {\n            return ctx.clearFilters();\n          });\n          i0.ɵɵtext(31, \" Effacer les filtres \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(32, \"div\", 15)(33, \"div\", 16)(34, \"h3\", 17);\n          i0.ɵɵtext(35);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(36, JobDescriptionsComponent_div_36_Template, 2, 0, \"div\", 18)(37, JobDescriptionsComponent_div_37_Template, 3, 2, \"div\", 19)(38, JobDescriptionsComponent_div_38_Template, 18, 1, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(39, JobDescriptionsComponent_div_39_Template, 2, 1, \"div\", 21);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.showAddForm ? \"Annuler\" : \"Nouvelle fiche de poste\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showAddForm || ctx.editingJobDescription);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchQuery);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedFiliere);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filiereOptions);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedFamille);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.familleOptions);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" Fiches de poste (\", ctx.filteredJobDescriptions.length, \") \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.filteredJobDescriptions.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.filteredJobDescriptions.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName, RouterLink],\n      styles: [\"\\n\\n.truncate[_ngcontent-%COMP%] {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.max-w-xs[_ngcontent-%COMP%] {\\n  max-width: 20rem;\\n}\\n\\n.table-auto[_ngcontent-%COMP%] {\\n  table-layout: auto;\\n}\\n\\n.divide-y[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not([hidden])    ~ [_ngcontent-%COMP%]:not([hidden]) {\\n  border-top-width: 1px;\\n}\\n\\n.divide-gray-200[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not([hidden])    ~ [_ngcontent-%COMP%]:not([hidden]) {\\n  border-color: rgb(229 231 235);\\n}\\n\\n.tracking-wider[_ngcontent-%COMP%] {\\n  letter-spacing: 0.05em;\\n}\\n\\n.uppercase[_ngcontent-%COMP%] {\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpvYi1kZXNjcmlwdGlvbnMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQ0FBcUM7QUFDckM7RUFDRSxnQkFBZ0I7RUFDaEIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsImZpbGUiOiJqb2ItZGVzY3JpcHRpb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBKb2IgZGVzY3JpcHRpb25zIHNwZWNpZmljIHN0eWxlcyAqL1xuLnRydW5jYXRlIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5tYXgtdy14cyB7XG4gIG1heC13aWR0aDogMjByZW07XG59XG5cbi50YWJsZS1hdXRvIHtcbiAgdGFibGUtbGF5b3V0OiBhdXRvO1xufVxuXG4uZGl2aWRlLXkgPiA6bm90KFtoaWRkZW5dKSB+IDpub3QoW2hpZGRlbl0pIHtcbiAgYm9yZGVyLXRvcC13aWR0aDogMXB4O1xufVxuXG4uZGl2aWRlLWdyYXktMjAwID4gOm5vdChbaGlkZGVuXSkgfiA6bm90KFtoaWRkZW5dKSB7XG4gIGJvcmRlci1jb2xvcjogcmdiKDIyOSAyMzEgMjM1KTtcbn1cblxuLnRyYWNraW5nLXdpZGVyIHtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTtcbn1cblxuLnVwcGVyY2FzZSB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvam9iLWRlc2NyaXB0aW9ucy9qb2ItZGVzY3JpcHRpb25zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDO0FBQ3JDO0VBQ0UsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7QUFDQSx3b0NBQXdvQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEpvYiBkZXNjcmlwdGlvbnMgc3BlY2lmaWMgc3R5bGVzICovXG4udHJ1bmNhdGUge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLm1heC13LXhzIHtcbiAgbWF4LXdpZHRoOiAyMHJlbTtcbn1cblxuLnRhYmxlLWF1dG8ge1xuICB0YWJsZS1sYXlvdXQ6IGF1dG87XG59XG5cbi5kaXZpZGUteSA+IDpub3QoW2hpZGRlbl0pIH4gOm5vdChbaGlkZGVuXSkge1xuICBib3JkZXItdG9wLXdpZHRoOiAxcHg7XG59XG5cbi5kaXZpZGUtZ3JheS0yMDAgPiA6bm90KFtoaWRkZW5dKSB+IDpub3QoW2hpZGRlbl0pIHtcbiAgYm9yZGVyLWNvbG9yOiByZ2IoMjI5IDIzMSAyMzUpO1xufVxuXG4udHJhY2tpbmctd2lkZXIge1xuICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xufVxuXG4udXBwZXJjYXNlIHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","ReactiveFormsModule","Validators","RouterLink","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","JobDescriptionsComponent_div_6_Template_form_ngSubmit_3_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onSubmit","ɵɵelement","ɵɵtemplate","JobDescriptionsComponent_div_6_div_9_Template","JobDescriptionsComponent_div_6_div_14_Template","JobDescriptionsComponent_div_6_div_19_Template","JobDescriptionsComponent_div_6_Template_button_click_65_listener","cancelEdit","ɵɵadvance","ɵɵtextInterpolate1","editingJobDescription","ɵɵproperty","jobDescriptionForm","tmp_3_0","get","invalid","touched","tmp_4_0","tmp_5_0","valid","filiere_r3","ɵɵtextInterpolate","famille_r4","JobDescriptionsComponent_div_37_div_1_Template","JobDescriptionsComponent_div_37_div_2_Template","jobDescriptions","length","job_r6","finalite","niveau_exigence","niveau_exp","JobDescriptionsComponent_div_38_tr_17_div_4_Template","JobDescriptionsComponent_div_38_tr_17_div_10_Template","JobDescriptionsComponent_div_38_tr_17_div_11_Template","JobDescriptionsComponent_div_38_tr_17_Template_button_click_19_listener","_r5","$implicit","editJobDescription","JobDescriptionsComponent_div_38_tr_17_Template_button_click_23_listener","deleteJobDescription","emploi","filiere_activite","famille","ɵɵpureFunction3","_c0","status","ɵɵpureFunction1","_c1","id","ɵɵpureFunction0","_c2","_c3","JobDescriptionsComponent_div_38_tr_17_Template","filteredJobDescriptions","errorMessage","JobDescriptionsComponent","constructor","jobDescriptionService","formBuilder","showAddForm","loading","searchQuery","selectedFiliere","selectedFamille","filiereOptions","familleOptions","group","required","minLength","superieur_n1","superieur_n2","version","ngOnInit","loadJobDescriptions","getJobDescriptions","subscribe","next","extractFilterOptions","error","err","console","filieres","Set","familles","forEach","job","add","Array","from","sort","applyFilters","filter","matchesSearch","toLowerCase","includes","matchesFiliere","matchesFamille","onSearchChange","onFilterChange","clearFilters","formValue","value","jobDescriptionData","trim","parseInt","Object","keys","key","undefined","updateJobDescription","updatedJobDescription","index","findIndex","message","createJobDescription","newJobDescription","push","jobDescription","patchValue","window","confirm","reset","ɵɵdirectiveInject","i1","JobDescriptionService","i2","FormBuilder","selectors","decls","vars","consts","template","JobDescriptionsComponent_Template","rf","ctx","JobDescriptionsComponent_Template_button_click_4_listener","JobDescriptionsComponent_div_6_Template","ɵɵtwoWayListener","JobDescriptionsComponent_Template_input_ngModelChange_14_listener","$event","ɵɵtwoWayBindingSet","JobDescriptionsComponent_Template_input_input_14_listener","JobDescriptionsComponent_Template_select_ngModelChange_18_listener","JobDescriptionsComponent_Template_select_change_18_listener","JobDescriptionsComponent_option_21_Template","JobDescriptionsComponent_Template_select_ngModelChange_25_listener","JobDescriptionsComponent_Template_select_change_25_listener","JobDescriptionsComponent_option_28_Template","JobDescriptionsComponent_Template_button_click_30_listener","JobDescriptionsComponent_div_36_Template","JobDescriptionsComponent_div_37_Template","JobDescriptionsComponent_div_38_Template","JobDescriptionsComponent_div_39_Template","ɵɵtwoWayProperty","i3","NgClass","NgForOf","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\job-descriptions\\job-descriptions.component.ts","C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\job-descriptions\\job-descriptions.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { JobDescriptionService } from '../../services/job-description.service';\nimport { JobDescription } from '../../models/job-description.model';\n\n@Component({\n  selector: 'app-job-descriptions',\n  standalone: true,\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, RouterLink],\n  templateUrl: './job-descriptions.component.html',\n  styleUrls: ['./job-descriptions.component.css']\n})\nexport class JobDescriptionsComponent implements OnInit {\n  jobDescriptions: JobDescription[] = [];\n  filteredJobDescriptions: JobDescription[] = [];\n  jobDescriptionForm: FormGroup;\n  showAddForm: boolean = false;\n  editingJobDescription: JobDescription | null = null;\n  loading: boolean = false;\n  errorMessage: string | null = null;\n  searchQuery: string = '';\n  selectedFiliere: string = '';\n  selectedFamille: string = '';\n\n  // Filter options\n  filiereOptions: string[] = [];\n  familleOptions: string[] = [];\n\n  constructor(\n    private jobDescriptionService: JobDescriptionService,\n    private formBuilder: FormBuilder\n  ) {\n    this.jobDescriptionForm = this.formBuilder.group({\n      emploi: ['', [Validators.required, Validators.minLength(3)]],\n      filiere_activite: ['', Validators.required],\n      famille: ['', Validators.required],\n      superieur_n1: [''],\n      superieur_n2: [''],\n      finalite: [''],\n      niveau_exigence: [''],\n      niveau_exp: [''],\n      status: ['Actif'],\n      version: ['1.0']\n    });\n  }\n\n  ngOnInit(): void {\n    this.loadJobDescriptions();\n  }\n\n  loadJobDescriptions(): void {\n    this.loading = true;\n    this.errorMessage = null;\n    this.jobDescriptionService.getJobDescriptions().subscribe({\n      next: (jobDescriptions) => {\n        this.jobDescriptions = jobDescriptions;\n        this.filteredJobDescriptions = [...jobDescriptions];\n        this.extractFilterOptions();\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Error loading job descriptions:', err);\n        this.errorMessage = 'Erreur lors du chargement des fiches de poste.';\n        this.loading = false;\n      }\n    });\n  }\n\n  extractFilterOptions(): void {\n    const filieres = new Set<string>();\n    const familles = new Set<string>();\n\n    this.jobDescriptions.forEach(job => {\n      if (job.filiere_activite) filieres.add(job.filiere_activite);\n      if (job.famille) familles.add(job.famille);\n    });\n\n    this.filiereOptions = Array.from(filieres).sort();\n    this.familleOptions = Array.from(familles).sort();\n  }\n\n  applyFilters(): void {\n    this.filteredJobDescriptions = this.jobDescriptions.filter(job => {\n      const matchesSearch = !this.searchQuery || \n        job.emploi.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\n        job.filiere_activite.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\n        job.famille.toLowerCase().includes(this.searchQuery.toLowerCase());\n      \n      const matchesFiliere = !this.selectedFiliere || job.filiere_activite === this.selectedFiliere;\n      const matchesFamille = !this.selectedFamille || job.famille === this.selectedFamille;\n\n      return matchesSearch && matchesFiliere && matchesFamille;\n    });\n  }\n\n  onSearchChange(): void {\n    this.applyFilters();\n  }\n\n  onFilterChange(): void {\n    this.applyFilters();\n  }\n\n  clearFilters(): void {\n    this.searchQuery = '';\n    this.selectedFiliere = '';\n    this.selectedFamille = '';\n    this.filteredJobDescriptions = [...this.jobDescriptions];\n  }\n\n  onSubmit(): void {\n    if (this.jobDescriptionForm.valid) {\n      const formValue = this.jobDescriptionForm.value;\n      \n      // Nettoyer les données avant envoi\n      const jobDescriptionData: any = {\n        emploi: formValue.emploi?.trim(),\n        filiere_activite: formValue.filiere_activite?.trim(),\n        famille: formValue.famille?.trim(),\n        superieur_n1: formValue.superieur_n1 && formValue.superieur_n1 !== '' ? parseInt(formValue.superieur_n1, 10) : null,\n        superieur_n2: formValue.superieur_n2 && formValue.superieur_n2 !== '' ? parseInt(formValue.superieur_n2, 10) : null,\n        finalite: formValue.finalite?.trim() || null,\n        niveau_exigence: formValue.niveau_exigence || null,\n        niveau_exp: formValue.niveau_exp || null,\n        status: formValue.status || 'Actif',\n        version: formValue.version || '1.0'\n      };\n\n      // Supprimer les propriétés undefined ou vides\n      Object.keys(jobDescriptionData).forEach(key => {\n        if (jobDescriptionData[key] === undefined || jobDescriptionData[key] === '') {\n          if (key === 'superieur_n1' || key === 'superieur_n2' || key === 'finalite') {\n            jobDescriptionData[key] = null;\n          }\n        }\n      });\n      \n      if (this.editingJobDescription) {\n        this.jobDescriptionService.updateJobDescription(this.editingJobDescription.id!, jobDescriptionData).subscribe({\n          next: (updatedJobDescription) => {\n            const index = this.jobDescriptions.findIndex(job => job.id === updatedJobDescription.id);\n            if (index !== -1) {\n              this.jobDescriptions[index] = updatedJobDescription;\n            }\n            this.applyFilters();\n            this.cancelEdit();\n            this.errorMessage = null;\n          },\n          error: (err) => {\n            console.error('Error updating job description:', err);\n            this.errorMessage = `Erreur lors de la mise à jour de la fiche de poste: ${err.error?.message || err.message}`;\n          }\n        });\n      } else {\n        this.jobDescriptionService.createJobDescription(jobDescriptionData).subscribe({\n          next: (newJobDescription) => {\n            this.jobDescriptions.push(newJobDescription);\n            this.applyFilters();\n            this.extractFilterOptions();\n            this.cancelEdit();\n            this.errorMessage = null;\n          },\n          error: (err) => {\n            console.error('Error creating job description:', err);\n            this.errorMessage = `Erreur lors de la création de la fiche de poste: ${err.error?.message || err.message}`;\n          }\n        });\n      }\n    }\n  }\n\n  editJobDescription(jobDescription: JobDescription): void {\n    this.editingJobDescription = jobDescription;\n    this.showAddForm = false;\n    this.jobDescriptionForm.patchValue({\n      emploi: jobDescription.emploi,\n      filiere_activite: jobDescription.filiere_activite,\n      famille: jobDescription.famille,\n      superieur_n1: jobDescription.superieur_n1 || null,\n      superieur_n2: jobDescription.superieur_n2 || null,\n      finalite: jobDescription.finalite || '',\n      niveau_exigence: jobDescription.niveau_exigence || '',\n      niveau_exp: jobDescription.niveau_exp || '',\n      status: jobDescription.status || 'Actif',\n      version: jobDescription.version || '1.0'\n    });\n  }\n\n  deleteJobDescription(jobDescription: JobDescription): void {\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer la fiche \"${jobDescription.emploi}\" ?`)) {\n      this.jobDescriptionService.deleteJobDescription(jobDescription.id!).subscribe({\n        next: () => {\n          this.jobDescriptions = this.jobDescriptions.filter(job => job.id !== jobDescription.id);\n          this.applyFilters();\n          this.extractFilterOptions();\n          this.errorMessage = null;\n        },\n        error: (err) => {\n          console.error('Error deleting job description:', err);\n          this.errorMessage = 'Erreur lors de la suppression de la fiche de poste.';\n        }\n      });\n    }\n  }\n\n  cancelEdit(): void {\n    this.editingJobDescription = null;\n    this.showAddForm = false;\n    this.jobDescriptionForm.reset({\n      status: 'Actif',\n      version: '1.0'\n    });\n  }\n}","<div class=\"p-6\">\n  <div class=\"flex justify-between items-center mb-6\">\n    <h2 class=\"text-3xl font-bold text-primary\">Fiches de Poste</h2>\n    <button (click)=\"showAddForm = !showAddForm\" class=\"btn btn-primary\">\n      {{ showAddForm ? 'Annuler' : 'Nouvelle fiche de poste' }}\n    </button>\n  </div>\n\n  <!-- Formulaire d'ajout/modification -->\n  <div *ngIf=\"showAddForm || editingJobDescription\" class=\"card mb-6\">\n    <h3 class=\"text-xl font-semibold text-dark mb-4\">\n      {{ editingJobDescription ? 'Modifier la fiche de poste' : 'Nouvelle fiche de poste' }}\n    </h3>\n    <form [formGroup]=\"jobDescriptionForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Emploi *</label>\n          <input type=\"text\" formControlName=\"emploi\" \n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n          <div *ngIf=\"jobDescriptionForm.get('emploi')?.invalid && jobDescriptionForm.get('emploi')?.touched\" \n               class=\"text-red-500 text-sm mt-1\">\n            L'emploi est requis (minimum 3 caractères)\n          </div>\n        </div>\n        \n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Filière d'activité *</label>\n          <input type=\"text\" formControlName=\"filiere_activite\" \n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n          <div *ngIf=\"jobDescriptionForm.get('filiere_activite')?.invalid && jobDescriptionForm.get('filiere_activite')?.touched\" \n               class=\"text-red-500 text-sm mt-1\">\n            La filière d'activité est requise\n          </div>\n        </div>\n        \n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Famille *</label>\n          <input type=\"text\" formControlName=\"famille\" \n                 class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n          <div *ngIf=\"jobDescriptionForm.get('famille')?.invalid && jobDescriptionForm.get('famille')?.touched\" \n               class=\"text-red-500 text-sm mt-1\">\n            La famille est requise\n          </div>\n        </div>\n        \n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Niveau d'exigence</label>\n          <select formControlName=\"niveau_exigence\" \n                  class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n            <option value=\"\">Sélectionner</option>\n            <option value=\"Junior\">Junior</option>\n            <option value=\"Confirmé\">Confirmé</option>\n            <option value=\"Senior\">Senior</option>\n            <option value=\"Expert\">Expert</option>\n          </select>\n        </div>\n        \n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Niveau d'expérience</label>\n          <select formControlName=\"niveau_exp\" \n                  class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n            <option value=\"\">Sélectionner</option>\n            <option value=\"0-2 ans\">0-2 ans</option>\n            <option value=\"2-5 ans\">2-5 ans</option>\n            <option value=\"5-10 ans\">5-10 ans</option>\n            <option value=\"10+ ans\">10+ ans</option>\n          </select>\n        </div>\n        \n        <div>\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\">Statut</label>\n          <select formControlName=\"status\" \n                  class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n            <option value=\"Actif\">Actif</option>\n            <option value=\"Inactif\">Inactif</option>\n            <option value=\"Brouillon\">Brouillon</option>\n          </select>\n        </div>\n      </div>\n      \n      <div class=\"mt-4\">\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Finalité</label>\n        <textarea formControlName=\"finalite\" rows=\"3\" \n                  class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\n                  placeholder=\"Décrivez la finalité du poste...\"></textarea>\n      </div>\n      \n      <div class=\"mt-6 flex gap-2\">\n        <button type=\"submit\" [disabled]=\"!jobDescriptionForm.valid\" class=\"btn btn-primary\">\n          {{ editingJobDescription ? 'Mettre à jour' : 'Créer' }}\n        </button>\n        <button type=\"button\" (click)=\"cancelEdit()\" class=\"btn btn-secondary\">\n          Annuler\n        </button>\n      </div>\n    </form>\n  </div>\n\n  <!-- Filtres et recherche -->\n  <div class=\"card mb-6\">\n    <h3 class=\"text-lg font-semibold text-dark mb-4\">Filtres et recherche</h3>\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n      <div>\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Recherche</label>\n        <input type=\"text\" [(ngModel)]=\"searchQuery\" (input)=\"onSearchChange()\" \n               placeholder=\"Rechercher par emploi, filière...\"\n               class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n      </div>\n      \n      <div>\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Filière</label>\n        <select [(ngModel)]=\"selectedFiliere\" (change)=\"onFilterChange()\" \n                class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n          <option value=\"\">Toutes les filières</option>\n          <option *ngFor=\"let filiere of filiereOptions\" [value]=\"filiere\">{{ filiere }}</option>\n        </select>\n      </div>\n      \n      <div>\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\">Famille</label>\n        <select [(ngModel)]=\"selectedFamille\" (change)=\"onFilterChange()\" \n                class=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\">\n          <option value=\"\">Toutes les familles</option>\n          <option *ngFor=\"let famille of familleOptions\" [value]=\"famille\">{{ famille }}</option>\n        </select>\n      </div>\n      \n      <div class=\"flex items-end\">\n        <button (click)=\"clearFilters()\" class=\"btn btn-secondary w-full\">\n          Effacer les filtres\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Liste des fiches de poste -->\n  <div class=\"card\">\n    <div class=\"flex justify-between items-center mb-4\">\n      <h3 class=\"text-lg font-semibold text-dark\">\n        Fiches de poste ({{ filteredJobDescriptions.length }})\n      </h3>\n    </div>\n    \n    <div *ngIf=\"loading\" class=\"text-center text-primary py-8\">\n      Chargement des fiches de poste...\n    </div>\n\n    <div *ngIf=\"!loading && filteredJobDescriptions.length === 0\" class=\"text-center text-gray-600 py-8\">\n      <div *ngIf=\"jobDescriptions.length === 0\">\n        Aucune fiche de poste trouvée.\n      </div>\n      <div *ngIf=\"jobDescriptions.length > 0\">\n        Aucune fiche de poste ne correspond aux critères de recherche.\n      </div>\n    </div>\n\n    <div *ngIf=\"!loading && filteredJobDescriptions.length > 0\" class=\"overflow-x-auto\">\n      <table class=\"min-w-full table-auto\">\n        <thead class=\"bg-gray-50\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Emploi</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Filière</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Famille</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Niveau</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Statut</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n          </tr>\n        </thead>\n        <tbody class=\"bg-white divide-y divide-gray-200\">\n          <tr *ngFor=\"let job of filteredJobDescriptions\" class=\"hover:bg-gray-50\">\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm font-medium text-gray-900\">{{ job.emploi }}</div>\n              <div *ngIf=\"job.finalite\" class=\"text-sm text-gray-500 truncate max-w-xs\">{{ job.finalite }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ job.filiere_activite }}</td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ job.famille }}</td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n              <div *ngIf=\"job.niveau_exigence\">{{ job.niveau_exigence }}</div>\n              <div *ngIf=\"job.niveau_exp\" class=\"text-xs text-gray-400\">{{ job.niveau_exp }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <span class=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full\"\n                    [ngClass]=\"{\n                      'bg-green-100 text-green-800': job.status === 'Actif',\n                      'bg-red-100 text-red-800': job.status === 'Inactif',\n                      'bg-yellow-100 text-yellow-800': job.status === 'Brouillon'\n                    }\">\n                {{ job.status || 'Actif' }}\n              </span>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n              <div class=\"flex space-x-2\">\n                <button [routerLink]=\"['/job-descriptions', job.id]\" \n                        class=\"text-primary hover:text-blue-700\">\n                  Voir\n                </button>\n                <button (click)=\"editJobDescription(job)\" \n                        class=\"text-primary hover:text-blue-700\">\n                  Modifier\n                </button>\n                <button [routerLink]=\"['/matching']\" [queryParams]=\"{jobId: job.id}\"\n                        class=\"text-green-600 hover:text-green-900\">\n                  Matching\n                </button>\n                <button (click)=\"deleteJobDescription(job)\" \n                        class=\"text-red-600 hover:text-red-900\">\n                  Supprimer\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <div *ngIf=\"errorMessage\" class=\"mt-4 p-3 bg-red-100 text-red-700 rounded-md\">\n    {{ errorMessage }}\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}