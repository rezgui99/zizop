{"ast":null,"code":"import { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/employee-skill.service\";\nimport * as i2 from \"@angular/common\";\nfunction EmployeeSkillsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Chargement...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeSkillsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction EmployeeSkillsComponent_table_2_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function EmployeeSkillsComponent_table_2_tr_18_Template_button_click_16_listener() {\n      const s_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.deleteSkill(s_r3.employee_id, s_r3.skill_id));\n    });\n    i0.ɵɵtext(17, \" Supprimer \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((s_r3.Employee == null ? null : s_r3.Employee.name) || s_r3.employee_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((s_r3.Skill == null ? null : s_r3.Skill.name) || s_r3.skill_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((s_r3.SkillLevel == null ? null : s_r3.SkillLevel.name) || s_r3.actual_skill_level_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 6, s_r3.acquired_date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r3.certification);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 8, s_r3.last_evaluated_date));\n  }\n}\nfunction EmployeeSkillsComponent_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 4)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Employ\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Comp\\u00E9tence\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Niveau\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Date acquise\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Certification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Derni\\u00E8re \\u00E9valuation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, EmployeeSkillsComponent_table_2_tr_18_Template, 18, 10, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.skills);\n  }\n}\nexport class EmployeeSkillsComponent {\n  constructor(skillService) {\n    this.skillService = skillService;\n    this.skills = [];\n    this.loading = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadSkills();\n  }\n  loadSkills() {\n    this.loading = true;\n    this.skillService.getAll().subscribe({\n      next: data => {\n        this.skills = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err.message;\n        this.loading = false;\n      }\n    });\n  }\n  deleteSkill(employee_id, skill_id) {\n    if (!confirm('Voulez-vous vraiment supprimer cette compétence ?')) return;\n    this.skillService.delete(employee_id, skill_id).subscribe({\n      next: () => this.loadSkills(),\n      error: err => this.error = err.message\n    });\n  }\n  static {\n    this.ɵfac = function EmployeeSkillsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || EmployeeSkillsComponent)(i0.ɵɵdirectiveInject(i1.EmployeeSkillService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EmployeeSkillsComponent,\n      selectors: [[\"app-employee-skills\"]],\n      decls: 3,\n      vars: 3,\n      consts: [[4, \"ngIf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"table table-striped\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n      template: function EmployeeSkillsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, EmployeeSkillsComponent_div_0_Template, 2, 0, \"div\", 0)(1, EmployeeSkillsComponent_div_1_Template, 2, 1, \"div\", 1)(2, EmployeeSkillsComponent_table_2_Template, 19, 1, \"table\", 2);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.skills.length);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DatePipe, FormsModule],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlbXBsb3llZS1za2lsbHMuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZW1wbG95ZWUtc2tpbGxzL2VtcGxveWVlLXNraWxscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["FormsModule","CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ɵɵlistener","EmployeeSkillsComponent_table_2_tr_18_Template_button_click_16_listener","s_r3","ɵɵrestoreView","_r2","$implicit","ɵɵnextContext","ɵɵresetView","deleteSkill","employee_id","skill_id","Employee","name","Skill","SkillLevel","actual_skill_level_id","ɵɵpipeBind1","acquired_date","certification","last_evaluated_date","ɵɵtemplate","EmployeeSkillsComponent_table_2_tr_18_Template","ɵɵproperty","skills","EmployeeSkillsComponent","constructor","skillService","loading","ngOnInit","loadSkills","getAll","subscribe","next","data","err","message","confirm","delete","ɵɵdirectiveInject","i1","EmployeeSkillService","selectors","decls","vars","consts","template","EmployeeSkillsComponent_Template","rf","ctx","EmployeeSkillsComponent_div_0_Template","EmployeeSkillsComponent_div_1_Template","EmployeeSkillsComponent_table_2_Template","length","i2","NgForOf","NgIf","DatePipe","styles"],"sources":["C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\employee-skills\\employee-skills.component.ts","C:\\Users\\h_ref\\Desktop\\frontend\\matchnhire\\src\\app\\pages\\employee-skills\\employee-skills.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { EmployeeSkill, EmployeeSkillService } from '../../services/employee-skill.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-employee-skills',\r\n  templateUrl: './employee-skills.component.html',\r\n  imports: [CommonModule, FormsModule], \r\n  styleUrls: ['./employee-skills.component.css']\r\n})\r\nexport class EmployeeSkillsComponent implements OnInit {\r\n  skills: EmployeeSkill[] = [];\r\n  loading = false;\r\n  error = '';\r\n\r\n  constructor(private skillService: EmployeeSkillService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadSkills();\r\n  }\r\n\r\n  loadSkills(): void {\r\n    this.loading = true;\r\n    this.skillService.getAll().subscribe({\r\n      next: (data) => { this.skills = data; this.loading = false; },\r\n      error: (err) => { this.error = err.message; this.loading = false; }\r\n    });\r\n  }\r\n\r\n  deleteSkill(employee_id: number, skill_id: number) {\r\n    if (!confirm('Voulez-vous vraiment supprimer cette compétence ?')) return;\r\n\r\n    this.skillService.delete(employee_id, skill_id).subscribe({\r\n      next: () => this.loadSkills(),\r\n      error: (err) => this.error = err.message\r\n    });\r\n  }\r\n}\r\n","<div *ngIf=\"loading\">Chargement...</div>\r\n<div *ngIf=\"error\" class=\"text-danger\">{{ error }}</div>\r\n\r\n<table *ngIf=\"skills.length\" class=\"table table-striped\">\r\n  <thead>\r\n    <tr>\r\n      <th>Employé</th>\r\n      <th>Compétence</th>\r\n      <th>Niveau</th>\r\n      <th>Date acquise</th>\r\n      <th>Certification</th>\r\n      <th>Dernière évaluation</th>\r\n      <th>Actions</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let s of skills\">\r\n      <td>{{ s.Employee?.name || s.employee_id }}</td>\r\n      <td>{{ s.Skill?.name || s.skill_id }}</td>\r\n      <td>{{ s.SkillLevel?.name || s.actual_skill_level_id }}</td>\r\n      <td>{{ s.acquired_date | date }}</td>\r\n      <td>{{ s.certification }}</td>\r\n      <td>{{ s.last_evaluated_date | date }}</td>\r\n      <td>\r\n        <button class=\"btn btn-danger btn-sm\" (click)=\"deleteSkill(s.employee_id, s.skill_id)\">\r\n          Supprimer\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}